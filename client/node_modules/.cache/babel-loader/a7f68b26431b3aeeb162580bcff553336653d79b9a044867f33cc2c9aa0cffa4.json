{"ast":null,"code":"var _jsxFileName = \"/Users/davidmcguire/Desktop/Master/Cursor/AudioZoom/client/src/pages/RequestInbox.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Tab, Tabs, Card, Badge, Button, Form, Alert, Spinner } from 'react-bootstrap';\nimport { FaCheckCircle, FaTimesCircle, FaClock, FaExclamationCircle, FaEnvelope, FaEnvelopeOpen } from 'react-icons/fa';\nimport api from '../utils/api';\nimport './RequestInbox.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RequestInbox = () => {\n  _s();\n  const [activeTab, setActiveTab] = useState('received');\n  const [receivedRequests, setReceivedRequests] = useState([]);\n  const [sentRequests, setSentRequests] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [viewedRequests, setViewedRequests] = useState(new Set());\n  useEffect(() => {\n    fetchRequests();\n  }, []);\n  const fetchRequests = async () => {\n    try {\n      setLoading(true);\n      setError('');\n\n      // Fetch requests received (as creator)\n      const receivedResponse = await api.get('/api/audio-requests/my-orders');\n      setReceivedRequests(receivedResponse.data);\n\n      // Fetch requests sent (as requester)\n      const sentResponse = await api.get('/api/audio-requests/my-requests');\n      setSentRequests(sentResponse.data);\n\n      // Load viewed requests from localStorage\n      const storedViewedRequests = localStorage.getItem('viewedRequests');\n      if (storedViewedRequests) {\n        setViewedRequests(new Set(JSON.parse(storedViewedRequests)));\n      }\n    } catch (err) {\n      console.error('Error fetching requests:', err);\n      setError('Failed to load requests');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const markAsViewed = requestId => {\n    const updatedViewedRequests = new Set(viewedRequests);\n    updatedViewedRequests.add(requestId);\n    setViewedRequests(updatedViewedRequests);\n    localStorage.setItem('viewedRequests', JSON.stringify([...updatedViewedRequests]));\n  };\n  const handleStatusChange = async (requestId, status) => {\n    try {\n      await api.patch(`/api/audio-requests/${requestId}/status`, {\n        status\n      });\n\n      // Update the request in the local state\n      setReceivedRequests(receivedRequests.map(req => req._id === requestId ? {\n        ...req,\n        status\n      } : req));\n    } catch (err) {\n      console.error('Error updating request status:', err);\n      alert('Failed to update request status');\n    }\n  };\n  const formatDate = dateString => {\n    const options = {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n  const getStatusBadge = status => {\n    switch (status) {\n      case 'pending':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"warning\",\n          children: \"Pending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 16\n        }, this);\n      case 'accepted':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"primary\",\n          children: \"Accepted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 16\n        }, this);\n      case 'completed':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"success\",\n          children: \"Completed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 16\n        }, this);\n      case 'rejected':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"danger\",\n          children: \"Rejected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 16\n        }, this);\n      case 'cancelled':\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"secondary\",\n          children: \"Cancelled\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"light\",\n          text: \"dark\",\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const isUnread = request => {\n    return !viewedRequests.has(request._id) && request.status === 'pending';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"request-inbox-container text-center\",\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading requests...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"request-inbox-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Request Inbox\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      activeKey: activeTab,\n      onSelect: k => setActiveTab(k),\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"received\",\n        title: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Received Requests\", receivedRequests.filter(req => isUnread(req)).length > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n            pill: true,\n            bg: \"danger\",\n            className: \"ms-2\",\n            children: receivedRequests.filter(req => isUnread(req)).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this),\n        children: receivedRequests.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-requests\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You haven't received any requests yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"requests-list\",\n          children: receivedRequests.map(request => /*#__PURE__*/_jsxDEV(Card, {\n            className: `request-card ${isUnread(request) ? 'unread' : ''}`,\n            onClick: () => markAsViewed(request._id),\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"request-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"request-info\",\n                  children: [isUnread(request) ? /*#__PURE__*/_jsxDEV(FaEnvelope, {\n                    className: \"unread-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(FaEnvelopeOpen, {\n                    className: \"read-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      children: [\"Request from \", request.requesterName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"request-date\",\n                      children: [\"Submitted on \", formatDate(request.createdAt)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"request-status\",\n                  children: getStatusBadge(request.status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"request-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Package:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 26\n                  }, this), \" \", request.pricingDetails.title]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Price:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 26\n                  }, this), \" $\", request.pricingDetails.price.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Expected Delivery:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 26\n                  }, this), \" \", formatDate(request.expectedDeliveryDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"request-message\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Request:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 28\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: request.requestDetails\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 23\n                }, this), request.occasion && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Occasion:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 28\n                  }, this), \" \", request.occasion]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 25\n                }, this), request.forWhom && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"For:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 28\n                  }, this), \" \", request.forWhom]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 25\n                }, this), request.pronunciation && /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Pronunciation Notes:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 28\n                  }, this), \" \", request.pronunciation]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"request-actions\",\n                children: [request.status === 'pending' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"success\",\n                    onClick: e => {\n                      e.stopPropagation();\n                      handleStatusChange(request._id, 'accepted');\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 29\n                    }, this), \" Accept\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"danger\",\n                    onClick: e => {\n                      e.stopPropagation();\n                      handleStatusChange(request._id, 'rejected');\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(FaTimesCircle, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 29\n                    }, this), \" Decline\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true), request.status === 'accepted' && /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"primary\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleStatusChange(request._id, 'completed');\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 27\n                  }, this), \" Mark as Completed\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/request/confirmation/${request._id}`,\n                  className: \"btn btn-outline-secondary\",\n                  onClick: e => e.stopPropagation(),\n                  children: \"View Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 19\n            }, this)\n          }, request._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab, {\n        eventKey: \"sent\",\n        title: \"Sent Requests\",\n        children: sentRequests.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-requests\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You haven't sent any requests yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"requests-list\",\n          children: sentRequests.map(request => /*#__PURE__*/_jsxDEV(Card, {\n            className: \"request-card\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"request-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"request-info\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      children: [\"Request to \", request.creator.name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"request-date\",\n                      children: [\"Submitted on \", formatDate(request.createdAt)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"request-status\",\n                  children: getStatusBadge(request.status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"request-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Package:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 26\n                  }, this), \" \", request.pricingDetails.title]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Price:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 26\n                  }, this), \" $\", request.pricingDetails.price.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Expected Delivery:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 26\n                  }, this), \" \", formatDate(request.expectedDeliveryDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"request-message\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Request:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 262,\n                      columnNumber: 28\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: request.requestDetails\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"request-actions\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: `/request/confirmation/${request._id}`,\n                  className: \"btn btn-primary\",\n                  children: \"View Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 23\n                }, this), request.status === 'completed' && request.completedAudio && /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"success\",\n                  children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 27\n                  }, this), \" Download Audio\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 25\n                }, this), request.status === 'pending' && /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-danger\",\n                  onClick: () => handleStatusChange(request._id, 'cancelled'),\n                  children: [/*#__PURE__*/_jsxDEV(FaTimesCircle, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 27\n                  }, this), \" Cancel Request\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 19\n            }, this)\n          }, request._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n_s(RequestInbox, \"ysKEXMPBJ1CLwlNHLWGgYoGpUq0=\");\n_c = RequestInbox;\nexport default RequestInbox;\nvar _c;\n$RefreshReg$(_c, \"RequestInbox\");","map":{"version":3,"names":["React","useState","useEffect","Link","Tab","Tabs","Card","Badge","Button","Form","Alert","Spinner","FaCheckCircle","FaTimesCircle","FaClock","FaExclamationCircle","FaEnvelope","FaEnvelopeOpen","api","jsxDEV","_jsxDEV","Fragment","_Fragment","RequestInbox","_s","activeTab","setActiveTab","receivedRequests","setReceivedRequests","sentRequests","setSentRequests","loading","setLoading","error","setError","viewedRequests","setViewedRequests","Set","fetchRequests","receivedResponse","get","data","sentResponse","storedViewedRequests","localStorage","getItem","JSON","parse","err","console","markAsViewed","requestId","updatedViewedRequests","add","setItem","stringify","handleStatusChange","status","patch","map","req","_id","alert","formatDate","dateString","options","year","month","day","Date","toLocaleDateString","undefined","getStatusBadge","bg","children","fileName","_jsxFileName","lineNumber","columnNumber","text","isUnread","request","has","className","animation","role","variant","activeKey","onSelect","k","eventKey","title","filter","length","pill","onClick","Body","requesterName","createdAt","pricingDetails","price","toFixed","expectedDeliveryDate","requestDetails","occasion","forWhom","pronunciation","e","stopPropagation","to","creator","name","completedAudio","_c","$RefreshReg$"],"sources":["/Users/davidmcguire/Desktop/Master/Cursor/AudioZoom/client/src/pages/RequestInbox.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Tab, Tabs, Card, Badge, Button, Form, Alert, Spinner } from 'react-bootstrap';\nimport { FaCheckCircle, FaTimesCircle, FaClock, FaExclamationCircle, FaEnvelope, FaEnvelopeOpen } from 'react-icons/fa';\nimport api from '../utils/api';\nimport './RequestInbox.css';\n\nconst RequestInbox = () => {\n  const [activeTab, setActiveTab] = useState('received');\n  const [receivedRequests, setReceivedRequests] = useState([]);\n  const [sentRequests, setSentRequests] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [viewedRequests, setViewedRequests] = useState(new Set());\n\n  useEffect(() => {\n    fetchRequests();\n  }, []);\n\n  const fetchRequests = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      // Fetch requests received (as creator)\n      const receivedResponse = await api.get('/api/audio-requests/my-orders');\n      setReceivedRequests(receivedResponse.data);\n      \n      // Fetch requests sent (as requester)\n      const sentResponse = await api.get('/api/audio-requests/my-requests');\n      setSentRequests(sentResponse.data);\n      \n      // Load viewed requests from localStorage\n      const storedViewedRequests = localStorage.getItem('viewedRequests');\n      if (storedViewedRequests) {\n        setViewedRequests(new Set(JSON.parse(storedViewedRequests)));\n      }\n    } catch (err) {\n      console.error('Error fetching requests:', err);\n      setError('Failed to load requests');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const markAsViewed = (requestId) => {\n    const updatedViewedRequests = new Set(viewedRequests);\n    updatedViewedRequests.add(requestId);\n    setViewedRequests(updatedViewedRequests);\n    localStorage.setItem('viewedRequests', JSON.stringify([...updatedViewedRequests]));\n  };\n\n  const handleStatusChange = async (requestId, status) => {\n    try {\n      await api.patch(`/api/audio-requests/${requestId}/status`, { status });\n      \n      // Update the request in the local state\n      setReceivedRequests(receivedRequests.map(req => \n        req._id === requestId ? { ...req, status } : req\n      ));\n    } catch (err) {\n      console.error('Error updating request status:', err);\n      alert('Failed to update request status');\n    }\n  };\n\n  const formatDate = (dateString) => {\n    const options = { year: 'numeric', month: 'short', day: 'numeric' };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n\n  const getStatusBadge = (status) => {\n    switch (status) {\n      case 'pending':\n        return <Badge bg=\"warning\">Pending</Badge>;\n      case 'accepted':\n        return <Badge bg=\"primary\">Accepted</Badge>;\n      case 'completed':\n        return <Badge bg=\"success\">Completed</Badge>;\n      case 'rejected':\n        return <Badge bg=\"danger\">Rejected</Badge>;\n      case 'cancelled':\n        return <Badge bg=\"secondary\">Cancelled</Badge>;\n      default:\n        return <Badge bg=\"light\" text=\"dark\">{status}</Badge>;\n    }\n  };\n\n  const isUnread = (request) => {\n    return !viewedRequests.has(request._id) && request.status === 'pending';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"request-inbox-container text-center\">\n        <Spinner animation=\"border\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </Spinner>\n        <p>Loading requests...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"request-inbox-container\">\n      <h1>Request Inbox</h1>\n      \n      {error && <Alert variant=\"danger\">{error}</Alert>}\n      \n      <Tabs\n        activeKey={activeTab}\n        onSelect={(k) => setActiveTab(k)}\n        className=\"mb-4\"\n      >\n        <Tab \n          eventKey=\"received\" \n          title={\n            <span>\n              Received Requests\n              {receivedRequests.filter(req => isUnread(req)).length > 0 && (\n                <Badge pill bg=\"danger\" className=\"ms-2\">\n                  {receivedRequests.filter(req => isUnread(req)).length}\n                </Badge>\n              )}\n            </span>\n          }\n        >\n          {receivedRequests.length === 0 ? (\n            <div className=\"no-requests\">\n              <p>You haven't received any requests yet.</p>\n            </div>\n          ) : (\n            <div className=\"requests-list\">\n              {receivedRequests.map(request => (\n                <Card \n                  key={request._id} \n                  className={`request-card ${isUnread(request) ? 'unread' : ''}`}\n                  onClick={() => markAsViewed(request._id)}\n                >\n                  <Card.Body>\n                    <div className=\"request-header\">\n                      <div className=\"request-info\">\n                        {isUnread(request) ? (\n                          <FaEnvelope className=\"unread-icon\" />\n                        ) : (\n                          <FaEnvelopeOpen className=\"read-icon\" />\n                        )}\n                        <div>\n                          <h3>Request from {request.requesterName}</h3>\n                          <p className=\"request-date\">\n                            Submitted on {formatDate(request.createdAt)}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"request-status\">\n                        {getStatusBadge(request.status)}\n                      </div>\n                    </div>\n                    \n                    <div className=\"request-details\">\n                      <p><strong>Package:</strong> {request.pricingDetails.title}</p>\n                      <p><strong>Price:</strong> ${request.pricingDetails.price.toFixed(2)}</p>\n                      <p><strong>Expected Delivery:</strong> {formatDate(request.expectedDeliveryDate)}</p>\n                      <div className=\"request-message\">\n                        <p><strong>Request:</strong></p>\n                        <p>{request.requestDetails}</p>\n                      </div>\n                      \n                      {request.occasion && (\n                        <p><strong>Occasion:</strong> {request.occasion}</p>\n                      )}\n                      \n                      {request.forWhom && (\n                        <p><strong>For:</strong> {request.forWhom}</p>\n                      )}\n                      \n                      {request.pronunciation && (\n                        <p><strong>Pronunciation Notes:</strong> {request.pronunciation}</p>\n                      )}\n                    </div>\n                    \n                    <div className=\"request-actions\">\n                      {request.status === 'pending' && (\n                        <>\n                          <Button \n                            variant=\"success\" \n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleStatusChange(request._id, 'accepted');\n                            }}\n                          >\n                            <FaCheckCircle /> Accept\n                          </Button>\n                          <Button \n                            variant=\"danger\" \n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleStatusChange(request._id, 'rejected');\n                            }}\n                          >\n                            <FaTimesCircle /> Decline\n                          </Button>\n                        </>\n                      )}\n                      \n                      {request.status === 'accepted' && (\n                        <Button \n                          variant=\"primary\" \n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleStatusChange(request._id, 'completed');\n                          }}\n                        >\n                          <FaCheckCircle /> Mark as Completed\n                        </Button>\n                      )}\n                      \n                      <Link \n                        to={`/request/confirmation/${request._id}`} \n                        className=\"btn btn-outline-secondary\"\n                        onClick={(e) => e.stopPropagation()}\n                      >\n                        View Details\n                      </Link>\n                    </div>\n                  </Card.Body>\n                </Card>\n              ))}\n            </div>\n          )}\n        </Tab>\n        \n        <Tab eventKey=\"sent\" title=\"Sent Requests\">\n          {sentRequests.length === 0 ? (\n            <div className=\"no-requests\">\n              <p>You haven't sent any requests yet.</p>\n            </div>\n          ) : (\n            <div className=\"requests-list\">\n              {sentRequests.map(request => (\n                <Card key={request._id} className=\"request-card\">\n                  <Card.Body>\n                    <div className=\"request-header\">\n                      <div className=\"request-info\">\n                        <div>\n                          <h3>Request to {request.creator.name}</h3>\n                          <p className=\"request-date\">\n                            Submitted on {formatDate(request.createdAt)}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"request-status\">\n                        {getStatusBadge(request.status)}\n                      </div>\n                    </div>\n                    \n                    <div className=\"request-details\">\n                      <p><strong>Package:</strong> {request.pricingDetails.title}</p>\n                      <p><strong>Price:</strong> ${request.pricingDetails.price.toFixed(2)}</p>\n                      <p><strong>Expected Delivery:</strong> {formatDate(request.expectedDeliveryDate)}</p>\n                      <div className=\"request-message\">\n                        <p><strong>Request:</strong></p>\n                        <p>{request.requestDetails}</p>\n                      </div>\n                    </div>\n                    \n                    <div className=\"request-actions\">\n                      <Link \n                        to={`/request/confirmation/${request._id}`} \n                        className=\"btn btn-primary\"\n                      >\n                        View Details\n                      </Link>\n                      \n                      {request.status === 'completed' && request.completedAudio && (\n                        <Button variant=\"success\">\n                          <FaCheckCircle /> Download Audio\n                        </Button>\n                      )}\n                      \n                      {request.status === 'pending' && (\n                        <Button \n                          variant=\"outline-danger\" \n                          onClick={() => handleStatusChange(request._id, 'cancelled')}\n                        >\n                          <FaTimesCircle /> Cancel Request\n                        </Button>\n                      )}\n                    </div>\n                  </Card.Body>\n                </Card>\n              ))}\n            </div>\n          )}\n        </Tab>\n      </Tabs>\n    </div>\n  );\n};\n\nexport default RequestInbox; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}