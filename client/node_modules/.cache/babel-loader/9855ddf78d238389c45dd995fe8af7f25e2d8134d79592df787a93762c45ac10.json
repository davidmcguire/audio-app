{"ast":null,"code":"var _jsxFileName = \"/Users/davidmcguire/Desktop/Master/Cursor/AudioZoom/client/src/pages/ComposeMessage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Card from '../components/Card';\nimport MessageForm from '../components/MessageForm';\nimport api from '../utils/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PageContainer = styled.div`\n  max-width: 800px;\n  margin: 2rem auto;\n  padding: 0 1rem;\n`;\n_c = PageContainer;\nconst PageTitle = styled.h1`\n  margin-bottom: 1.5rem;\n  color: ${props => props.theme.colors.text};\n  font-weight: ${props => props.theme.fontWeights.bold};\n`;\n_c2 = PageTitle;\nconst RecipientInfo = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  padding: 1rem;\n  background-color: ${props => props.theme.colors.backgroundDark};\n  border-radius: ${props => props.theme.borderRadius.medium};\n`;\n_c3 = RecipientInfo;\nconst Avatar = styled.img`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-right: 1rem;\n`;\n_c4 = Avatar;\nconst RecipientName = styled.h3`\n  margin: 0;\n  color: ${props => props.theme.colors.text};\n  font-weight: ${props => props.theme.fontWeights.semibold};\n`;\n_c5 = RecipientName;\nconst ErrorMessage = styled.div`\n  color: ${props => props.theme.colors.error};\n  background-color: rgba(255, 59, 48, 0.1);\n  border: 1px solid rgba(255, 59, 48, 0.2);\n  border-radius: ${props => props.theme.borderRadius.small};\n  padding: 0.75rem 1rem;\n  margin-bottom: 1rem;\n  font-size: 0.9rem;\n`;\n_c6 = ErrorMessage;\nconst LoadingMessage = styled.div`\n  text-align: center;\n  padding: 2rem;\n  color: ${props => props.theme.colors.textLight};\n`;\n_c7 = LoadingMessage;\nconst ComposeMessage = () => {\n  _s();\n  const {\n    userId\n  } = useParams();\n  const navigate = useNavigate();\n  const [recipient, setRecipient] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchRecipient = async () => {\n      try {\n        setLoading(true);\n        const response = await api.get(`/api/users/${userId}`);\n        setRecipient(response.data);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching recipient:', err);\n        if (err.response) {\n          setError(err.response.data.message || 'Failed to load recipient information');\n        } else if (err.request) {\n          setError('Network error - could not connect to server');\n        } else {\n          setError(err.message || 'Failed to load recipient information');\n        }\n        setLoading(false);\n      }\n    };\n    if (userId) {\n      fetchRecipient();\n    } else {\n      setError('No recipient specified');\n      setLoading(false);\n    }\n  }, [userId]);\n  const handleMessageSent = () => {\n    // Navigate to inbox after message is sent\n    navigate('/inbox');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(PageContainer, {\n      children: /*#__PURE__*/_jsxDEV(LoadingMessage, {\n        children: \"Loading recipient information...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(PageContainer, {\n      children: /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(PageContainer, {\n    children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n      children: \"New Message\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: recipient && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(RecipientInfo, {\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              src: recipient.profilePicture || '/default-avatar.png',\n              alt: recipient.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(RecipientName, {\n              children: [\"To: \", recipient.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MessageForm, {\n            recipientId: recipient._id,\n            onMessageSent: handleMessageSent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n_s(ComposeMessage, \"byPGJ/wDe9+RyhVsGAG0D9VhZHs=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c8 = ComposeMessage;\nexport default ComposeMessage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"PageContainer\");\n$RefreshReg$(_c2, \"PageTitle\");\n$RefreshReg$(_c3, \"RecipientInfo\");\n$RefreshReg$(_c4, \"Avatar\");\n$RefreshReg$(_c5, \"RecipientName\");\n$RefreshReg$(_c6, \"ErrorMessage\");\n$RefreshReg$(_c7, \"LoadingMessage\");\n$RefreshReg$(_c8, \"ComposeMessage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","styled","Card","MessageForm","api","jsxDEV","_jsxDEV","Fragment","_Fragment","PageContainer","div","_c","PageTitle","h1","props","theme","colors","text","fontWeights","bold","_c2","RecipientInfo","backgroundDark","borderRadius","medium","_c3","Avatar","img","_c4","RecipientName","h3","semibold","_c5","ErrorMessage","error","small","_c6","LoadingMessage","textLight","_c7","ComposeMessage","_s","userId","navigate","recipient","setRecipient","loading","setLoading","setError","fetchRecipient","response","get","data","err","console","message","request","handleMessageSent","children","fileName","_jsxFileName","lineNumber","columnNumber","Body","src","profilePicture","alt","name","recipientId","_id","onMessageSent","_c8","$RefreshReg$"],"sources":["/Users/davidmcguire/Desktop/Master/Cursor/AudioZoom/client/src/pages/ComposeMessage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Card from '../components/Card';\nimport MessageForm from '../components/MessageForm';\nimport api from '../utils/api';\n\nconst PageContainer = styled.div`\n  max-width: 800px;\n  margin: 2rem auto;\n  padding: 0 1rem;\n`;\n\nconst PageTitle = styled.h1`\n  margin-bottom: 1.5rem;\n  color: ${props => props.theme.colors.text};\n  font-weight: ${props => props.theme.fontWeights.bold};\n`;\n\nconst RecipientInfo = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  padding: 1rem;\n  background-color: ${props => props.theme.colors.backgroundDark};\n  border-radius: ${props => props.theme.borderRadius.medium};\n`;\n\nconst Avatar = styled.img`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-right: 1rem;\n`;\n\nconst RecipientName = styled.h3`\n  margin: 0;\n  color: ${props => props.theme.colors.text};\n  font-weight: ${props => props.theme.fontWeights.semibold};\n`;\n\nconst ErrorMessage = styled.div`\n  color: ${props => props.theme.colors.error};\n  background-color: rgba(255, 59, 48, 0.1);\n  border: 1px solid rgba(255, 59, 48, 0.2);\n  border-radius: ${props => props.theme.borderRadius.small};\n  padding: 0.75rem 1rem;\n  margin-bottom: 1rem;\n  font-size: 0.9rem;\n`;\n\nconst LoadingMessage = styled.div`\n  text-align: center;\n  padding: 2rem;\n  color: ${props => props.theme.colors.textLight};\n`;\n\nconst ComposeMessage = () => {\n  const { userId } = useParams();\n  const navigate = useNavigate();\n  const [recipient, setRecipient] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchRecipient = async () => {\n      try {\n        setLoading(true);\n        const response = await api.get(`/api/users/${userId}`);\n        setRecipient(response.data);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching recipient:', err);\n        if (err.response) {\n          setError(err.response.data.message || 'Failed to load recipient information');\n        } else if (err.request) {\n          setError('Network error - could not connect to server');\n        } else {\n          setError(err.message || 'Failed to load recipient information');\n        }\n        setLoading(false);\n      }\n    };\n\n    if (userId) {\n      fetchRecipient();\n    } else {\n      setError('No recipient specified');\n      setLoading(false);\n    }\n  }, [userId]);\n\n  const handleMessageSent = () => {\n    // Navigate to inbox after message is sent\n    navigate('/inbox');\n  };\n\n  if (loading) {\n    return (\n      <PageContainer>\n        <LoadingMessage>Loading recipient information...</LoadingMessage>\n      </PageContainer>\n    );\n  }\n\n  if (error) {\n    return (\n      <PageContainer>\n        <ErrorMessage>{error}</ErrorMessage>\n      </PageContainer>\n    );\n  }\n\n  return (\n    <PageContainer>\n      <PageTitle>New Message</PageTitle>\n      \n      <Card>\n        <Card.Body>\n          {recipient && (\n            <>\n              <RecipientInfo>\n                <Avatar \n                  src={recipient.profilePicture || '/default-avatar.png'} \n                  alt={recipient.name} \n                />\n                <RecipientName>To: {recipient.name}</RecipientName>\n              </RecipientInfo>\n              \n              <MessageForm \n                recipientId={recipient._id} \n                onMessageSent={handleMessageSent}\n              />\n            </>\n          )}\n        </Card.Body>\n      </Card>\n    </PageContainer>\n  );\n};\n\nexport default ComposeMessage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}