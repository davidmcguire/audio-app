{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{FaPlus,FaTrash,FaEdit,FaGripLines,FaLink,FaMusic,FaVideo,FaPodcast,FaGlobe,FaTwitter,FaInstagram,FaFacebook,FaYoutube,FaSoundcloud,FaSpotify,FaDollarSign,FaClock,FaEye}from'react-icons/fa';import{useNavigate}from'react-router-dom';import'./Profile.css';import PaymentSettings from'../components/PaymentSettings';import PricingOptions from'../components/PricingOptions';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Profile=()=>{var _user$name,_user$name$;const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[isEditing,setIsEditing]=useState(false);const[editedName,setEditedName]=useState('');const[editedBio,setEditedBio]=useState('');const[editedDisplayName,setEditedDisplayName]=useState('');const[editedLocation,setEditedLocation]=useState('');const[editedProfession,setEditedProfession]=useState('');const[editedProfileTheme,setEditedProfileTheme]=useState('default');const[selectedImage,setSelectedImage]=useState(null);const[imagePreview,setImagePreview]=useState(null);const fileInputRef=useRef(null);const navigate=useNavigate();// Media links state\nconst[mediaLinks,setMediaLinks]=useState([]);const[showAddLinkForm,setShowAddLinkForm]=useState(false);const[editingLinkId,setEditingLinkId]=useState(null);const[newLink,setNewLink]=useState({title:'',url:'',type:'website',icon:'link'});// Pricing options state\nconst[pricingOptions,setPricingOptions]=useState([]);const[showAddPricingForm,setShowAddPricingForm]=useState(false);const[editingPricingId,setEditingPricingId]=useState(null);const[newPricingOption,setNewPricingOption]=useState({title:'',description:'',price:'',deliveryTime:'7',type:'personal',isActive:true});// Requests info state\nconst[acceptsRequests,setAcceptsRequests]=useState(false);const[requestsInfo,setRequestsInfo]=useState({headline:'Request a personalized audio message',description:'',responseTime:7,paymentMethods:{paypal:false,stripe:false,paypalEmail:'',stripeAccountId:''}});const[showRequestsInfoForm,setShowRequestsInfoForm]=useState(false);useEffect(()=>{fetchUserProfile();},[]);const fetchUserProfile=async()=>{try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5001/api/users/profile',{headers:{'Authorization':`Bearer ${token}`}});if(!response.ok){throw new Error('Failed to fetch profile');}const userData=await response.json();setUser(userData);setEditedName(userData.name);setEditedBio(userData.bio||'');setEditedDisplayName(userData.displayName||'');setEditedLocation(userData.location||'');setEditedProfession(userData.profession||'');setEditedProfileTheme(userData.profileTheme||'default');setImagePreview(userData.picture);setMediaLinks(userData.mediaLinks||[]);setPricingOptions(userData.pricingOptions||[]);setAcceptsRequests(userData.acceptsRequests||false);setRequestsInfo(userData.requestsInfo||{headline:'Request a personalized audio message',description:'',responseTime:7,paymentMethods:{paypal:false,stripe:false,paypalEmail:'',stripeAccountId:''}});setLoading(false);}catch(err){setError(err.message);setLoading(false);}};const handleImageChange=e=>{const file=e.target.files[0];if(file){setSelectedImage(file);const reader=new FileReader();reader.onloadend=()=>{setImagePreview(reader.result);};reader.readAsDataURL(file);}};const handleSaveProfile=async()=>{try{const token=localStorage.getItem('token');const formData=new FormData();formData.append('name',editedName);formData.append('bio',editedBio);formData.append('displayName',editedDisplayName);formData.append('location',editedLocation);formData.append('profession',editedProfession);formData.append('profileTheme',editedProfileTheme);if(selectedImage){formData.append('picture',selectedImage);}const response=await fetch('http://localhost:5001/api/users/profile',{method:'PATCH',headers:{'Authorization':`Bearer ${token}`},body:formData});if(!response.ok){throw new Error('Failed to update profile');}const updatedUser=await response.json();setUser(updatedUser);setIsEditing(false);setSelectedImage(null);}catch(err){setError(err.message);}};// Media link functions\nconst handleAddLink=async()=>{try{if(!newLink.title||!newLink.url){setError('Title and URL are required');return;}const token=localStorage.getItem('token');const response=await fetch('http://localhost:5001/api/users/profile/media-links',{method:'POST',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},body:JSON.stringify(newLink)});if(!response.ok){throw new Error('Failed to add link');}const addedLink=await response.json();setMediaLinks([...mediaLinks,addedLink]);setNewLink({title:'',url:'',type:'website',icon:'link'});setShowAddLinkForm(false);}catch(err){setError(err.message);}};const handleUpdateLink=async()=>{try{if(!newLink.title||!newLink.url){setError('Title and URL are required');return;}const token=localStorage.getItem('token');const response=await fetch(`http://localhost:5001/api/users/profile/media-links/${editingLinkId}`,{method:'PATCH',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},body:JSON.stringify(newLink)});if(!response.ok){throw new Error('Failed to update link');}const updatedLink=await response.json();setMediaLinks(mediaLinks.map(link=>link._id===editingLinkId?updatedLink:link));setNewLink({title:'',url:'',type:'website',icon:'link'});setEditingLinkId(null);}catch(err){setError(err.message);}};const handleDeleteLink=async linkId=>{try{const token=localStorage.getItem('token');const response=await fetch(`http://localhost:5001/api/users/profile/media-links/${linkId}`,{method:'DELETE',headers:{'Authorization':`Bearer ${token}`}});if(!response.ok){throw new Error('Failed to delete link');}setMediaLinks(mediaLinks.filter(link=>link._id!==linkId));}catch(err){setError(err.message);}};const handleEditLink=link=>{setNewLink({title:link.title,url:link.url,type:link.type,icon:link.icon});setEditingLinkId(link._id);setShowAddLinkForm(true);};const getIconComponent=(type,icon)=>{switch(type){case'music':return/*#__PURE__*/_jsx(FaMusic,{});case'video':return/*#__PURE__*/_jsx(FaVideo,{});case'podcast':return/*#__PURE__*/_jsx(FaPodcast,{});case'social':switch(icon){case'twitter':return/*#__PURE__*/_jsx(FaTwitter,{});case'instagram':return/*#__PURE__*/_jsx(FaInstagram,{});case'facebook':return/*#__PURE__*/_jsx(FaFacebook,{});case'youtube':return/*#__PURE__*/_jsx(FaYoutube,{});case'soundcloud':return/*#__PURE__*/_jsx(FaSoundcloud,{});case'spotify':return/*#__PURE__*/_jsx(FaSpotify,{});default:return/*#__PURE__*/_jsx(FaLink,{});}case'website':default:return/*#__PURE__*/_jsx(FaGlobe,{});}};// Pricing option functions\nconst handleAddPricingOption=async()=>{try{if(!newPricingOption.title||!newPricingOption.price){setError('Title and price are required');return;}const token=localStorage.getItem('token');const response=await fetch('http://localhost:5001/api/users/profile/pricing-options',{method:'POST',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},body:JSON.stringify(newPricingOption)});if(!response.ok){throw new Error('Failed to add pricing option');}const addedOption=await response.json();setPricingOptions([...pricingOptions,addedOption]);setNewPricingOption({title:'',description:'',price:'',deliveryTime:'7',type:'personal',isActive:true});setShowAddPricingForm(false);}catch(err){setError(err.message);}};const handleUpdatePricingOption=async()=>{try{if(!newPricingOption.title||!newPricingOption.price){setError('Title and price are required');return;}const token=localStorage.getItem('token');const response=await fetch(`http://localhost:5001/api/users/profile/pricing-options/${editingPricingId}`,{method:'PATCH',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},body:JSON.stringify(newPricingOption)});if(!response.ok){throw new Error('Failed to update pricing option');}const updatedOption=await response.json();setPricingOptions(pricingOptions.map(option=>option._id===editingPricingId?updatedOption:option));setNewPricingOption({title:'',description:'',price:'',deliveryTime:'7',type:'personal',isActive:true});setEditingPricingId(null);setShowAddPricingForm(false);}catch(err){setError(err.message);}};const handleDeletePricingOption=async optionId=>{try{const token=localStorage.getItem('token');const response=await fetch(`http://localhost:5001/api/users/profile/pricing-options/${optionId}`,{method:'DELETE',headers:{'Authorization':`Bearer ${token}`}});if(!response.ok){throw new Error('Failed to delete pricing option');}setPricingOptions(pricingOptions.filter(option=>option._id!==optionId));}catch(err){setError(err.message);}};const handleEditPricingOption=option=>{setNewPricingOption({title:option.title,description:option.description||'',price:option.price.toString(),deliveryTime:option.deliveryTime.toString(),type:option.type,isActive:option.isActive});setEditingPricingId(option._id);setShowAddPricingForm(true);};const handleTogglePricingOptionStatus=async option=>{try{const token=localStorage.getItem('token');const response=await fetch(`http://localhost:5001/api/users/profile/pricing-options/${option._id}`,{method:'PATCH',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},body:JSON.stringify({isActive:!option.isActive})});if(!response.ok){throw new Error('Failed to update pricing option status');}const updatedOption=await response.json();setPricingOptions(pricingOptions.map(opt=>opt._id===option._id?updatedOption:opt));}catch(err){setError(err.message);}};// Requests info functions\nconst handleUpdateRequestsInfo=async()=>{try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5001/api/users/profile/requests-info',{method:'PATCH',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},body:JSON.stringify({headline:requestsInfo.headline,description:requestsInfo.description,responseTime:requestsInfo.responseTime,paymentMethods:JSON.stringify(requestsInfo.paymentMethods)})});if(!response.ok){throw new Error('Failed to update requests info');}const updatedInfo=await response.json();setRequestsInfo(updatedInfo);setShowRequestsInfoForm(false);}catch(err){setError(err.message);}};const handleToggleAcceptsRequests=async()=>{try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5001/api/users/profile',{method:'PATCH',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},body:JSON.stringify({acceptsRequests:(!acceptsRequests).toString()})});if(!response.ok){throw new Error('Failed to update profile');}const updatedUser=await response.json();setUser(updatedUser);setAcceptsRequests(updatedUser.acceptsRequests);}catch(err){setError(err.message);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"profile-container loading\",children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"profile-container error\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-header-buttons\",children:!isEditing&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"view-profile-button\",onClick:()=>navigate(`/profile/${user.displayName||user._id}`),children:[/*#__PURE__*/_jsx(FaEye,{}),\" View Public Profile\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:()=>setIsEditing(true),children:\"Edit Profile\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-image-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile-image\",children:[imagePreview?/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Profile\"}):/*#__PURE__*/_jsx(\"div\",{className:\"profile-image-placeholder\",children:user===null||user===void 0?void 0:(_user$name=user.name)===null||_user$name===void 0?void 0:(_user$name$=_user$name[0])===null||_user$name$===void 0?void 0:_user$name$.toUpperCase()}),isEditing&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"change-image-button\",onClick:()=>fileInputRef.current.click(),children:\"Change Image\"}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\"image/*\",onChange:handleImageChange,style:{display:'none'}})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-details\",children:isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedName,onChange:e=>setEditedName(e.target.value),placeholder:\"Enter your name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Display Name (optional):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedDisplayName,onChange:e=>setEditedDisplayName(e.target.value),placeholder:\"Enter a display name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Location (optional):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedLocation,onChange:e=>setEditedLocation(e.target.value),placeholder:\"Enter your location\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Profession (optional):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedProfession,onChange:e=>setEditedProfession(e.target.value),placeholder:\"Enter your profession\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Bio:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editedBio,onChange:e=>setEditedBio(e.target.value),placeholder:\"Tell us about yourself\",rows:4})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Profile Theme:\"}),/*#__PURE__*/_jsxs(\"select\",{value:editedProfileTheme,onChange:e=>setEditedProfileTheme(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"default\",children:\"Default\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dark\",children:\"Dark\"}),/*#__PURE__*/_jsx(\"option\",{value:\"light\",children:\"Light\"}),/*#__PURE__*/_jsx(\"option\",{value:\"colorful\",children:\"Colorful\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:handleSaveProfile,children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel-button\",onClick:()=>{setIsEditing(false);setEditedName(user.name);setEditedBio(user.bio||'');setEditedDisplayName(user.displayName||'');setEditedLocation(user.location||'');setEditedProfession(user.profession||'');setEditedProfileTheme(user.profileTheme||'default');setImagePreview(user.picture);setSelectedImage(null);},children:\"Cancel\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:user.displayName||user.name}),user.profession&&/*#__PURE__*/_jsx(\"p\",{className:\"profession\",children:user.profession}),user.location&&/*#__PURE__*/_jsx(\"p\",{className:\"location\",children:user.location}),/*#__PURE__*/_jsx(\"p\",{className:\"bio\",children:user.bio||'No bio available'})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"media-links-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Links\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"add-link-button\",onClick:()=>{setShowAddLinkForm(true);setEditingLinkId(null);setNewLink({title:'',url:'',type:'website',icon:'link'});},children:[/*#__PURE__*/_jsx(FaPlus,{}),\" Add Link\"]})]}),showAddLinkForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"link-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:editingLinkId?'Edit Link':'Add New Link'}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newLink.title,onChange:e=>setNewLink({...newLink,title:e.target.value}),placeholder:\"Enter link title\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newLink.url,onChange:e=>setNewLink({...newLink,url:e.target.value}),placeholder:\"Enter URL (https://...)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type:\"}),/*#__PURE__*/_jsxs(\"select\",{value:newLink.type,onChange:e=>setNewLink({...newLink,type:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"website\",children:\"Website\"}),/*#__PURE__*/_jsx(\"option\",{value:\"social\",children:\"Social Media\"}),/*#__PURE__*/_jsx(\"option\",{value:\"music\",children:\"Music\"}),/*#__PURE__*/_jsx(\"option\",{value:\"video\",children:\"Video\"}),/*#__PURE__*/_jsx(\"option\",{value:\"podcast\",children:\"Podcast\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})]}),newLink.type==='social'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Platform:\"}),/*#__PURE__*/_jsxs(\"select\",{value:newLink.icon,onChange:e=>setNewLink({...newLink,icon:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"twitter\",children:\"Twitter\"}),/*#__PURE__*/_jsx(\"option\",{value:\"instagram\",children:\"Instagram\"}),/*#__PURE__*/_jsx(\"option\",{value:\"facebook\",children:\"Facebook\"}),/*#__PURE__*/_jsx(\"option\",{value:\"youtube\",children:\"YouTube\"}),/*#__PURE__*/_jsx(\"option\",{value:\"soundcloud\",children:\"SoundCloud\"}),/*#__PURE__*/_jsx(\"option\",{value:\"spotify\",children:\"Spotify\"}),/*#__PURE__*/_jsx(\"option\",{value:\"link\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"link-form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:editingLinkId?handleUpdateLink:handleAddLink,children:editingLinkId?'Update Link':'Add Link'}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel-button\",onClick:()=>{setShowAddLinkForm(false);setEditingLinkId(null);},children:\"Cancel\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"links-preview\",children:mediaLinks.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-links\",children:\"No links added yet. Add your first link to create your Linktree-style profile.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"links-list\",children:mediaLinks.map(link=>/*#__PURE__*/_jsxs(\"div\",{className:\"link-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"link-drag-handle\",children:/*#__PURE__*/_jsx(FaGripLines,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"link-icon\",children:getIconComponent(link.type,link.icon)}),/*#__PURE__*/_jsxs(\"div\",{className:\"link-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:link.title}),/*#__PURE__*/_jsx(\"p\",{className:\"link-url\",children:link.url})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"link-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit-link-button\",onClick:()=>handleEditLink(link),children:/*#__PURE__*/_jsx(FaEdit,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-link-button\",onClick:()=>handleDeleteLink(link._id),children:/*#__PURE__*/_jsx(FaTrash,{})})]})]},link._id))})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pricing-options-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Pricing Options\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"section-actions\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"toggle-container\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-label\",children:[\"Accept Audio Requests:\",/*#__PURE__*/_jsxs(\"div\",{className:\"toggle-switch\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:acceptsRequests,onChange:handleToggleAcceptsRequests}),/*#__PURE__*/_jsx(\"span\",{className:\"toggle-slider\"})]})]})}),/*#__PURE__*/_jsxs(\"button\",{className:\"add-button\",onClick:()=>{setShowAddPricingForm(true);setEditingPricingId(null);setNewPricingOption({title:'',description:'',price:'',deliveryTime:'7',type:'personal',isActive:true});},children:[/*#__PURE__*/_jsx(FaPlus,{}),\" Add Pricing Option\"]})]})]}),showAddPricingForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"pricing-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:editingPricingId?'Edit Pricing Option':'Add New Pricing Option'}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPricingOption.title,onChange:e=>setNewPricingOption({...newPricingOption,title:e.target.value}),placeholder:\"e.g., Basic Package, Premium Shoutout\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newPricingOption.description,onChange:e=>setNewPricingOption({...newPricingOption,description:e.target.value}),placeholder:\"Describe what's included in this option\",rows:3})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group half\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price ($):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"0.01\",value:newPricingOption.price,onChange:e=>setNewPricingOption({...newPricingOption,price:e.target.value}),placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group half\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Delivery Time (days):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:newPricingOption.deliveryTime,onChange:e=>setNewPricingOption({...newPricingOption,deliveryTime:e.target.value}),placeholder:\"7\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type:\"}),/*#__PURE__*/_jsxs(\"select\",{value:newPricingOption.type,onChange:e=>setNewPricingOption({...newPricingOption,type:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"personal\",children:\"Personal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"business\",children:\"Business\"}),/*#__PURE__*/_jsx(\"option\",{value:\"custom\",children:\"Custom\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newPricingOption.isActive,onChange:e=>setNewPricingOption({...newPricingOption,isActive:e.target.checked})}),\"Active (visible to customers)\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:editingPricingId?handleUpdatePricingOption:handleAddPricingOption,children:editingPricingId?'Update Option':'Add Option'}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel-button\",onClick:()=>{setShowAddPricingForm(false);setEditingPricingId(null);},children:\"Cancel\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pricing-options-preview\",children:pricingOptions.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-options\",children:\"No pricing options added yet. Add your first option to start accepting audio requests.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"pricing-options-list\",children:pricingOptions.map(option=>/*#__PURE__*/_jsxs(\"div\",{className:`pricing-option-item ${!option.isActive?'inactive':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pricing-option-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:option.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"pricing-option-price\",children:[/*#__PURE__*/_jsx(FaDollarSign,{}),option.price.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pricing-option-details\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pricing-option-description\",children:option.description||'No description provided'}),/*#__PURE__*/_jsxs(\"p\",{className:\"pricing-option-delivery\",children:[/*#__PURE__*/_jsx(FaClock,{}),\" Delivery in \",option.deliveryTime,\" days\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"pricing-option-type\",children:[\"Type: \",option.type.charAt(0).toUpperCase()+option.type.slice(1)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pricing-option-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"toggle-status-button\",onClick:()=>handleTogglePricingOptionStatus(option),title:option.isActive?'Deactivate':'Activate',children:option.isActive?'Active':'Inactive'}),/*#__PURE__*/_jsx(\"button\",{className:\"edit-option-button\",onClick:()=>handleEditPricingOption(option),children:/*#__PURE__*/_jsx(FaEdit,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-option-button\",onClick:()=>handleDeletePricingOption(option._id),children:/*#__PURE__*/_jsx(FaTrash,{})})]})]},option._id))})}),acceptsRequests&&/*#__PURE__*/_jsxs(\"div\",{className:\"requests-info-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Request Settings\"}),/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:()=>setShowRequestsInfoForm(!showRequestsInfoForm),children:showRequestsInfoForm?'Cancel':'Edit Settings'})]}),showRequestsInfoForm?/*#__PURE__*/_jsxs(\"div\",{className:\"requests-info-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Headline:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:requestsInfo.headline,onChange:e=>setRequestsInfo({...requestsInfo,headline:e.target.value}),placeholder:\"Request a personalized audio message\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:requestsInfo.description,onChange:e=>setRequestsInfo({...requestsInfo,description:e.target.value}),placeholder:\"Describe what customers can expect when requesting audio from you\",rows:3})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Response Time (days):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:requestsInfo.responseTime,onChange:e=>setRequestsInfo({...requestsInfo,responseTime:parseInt(e.target.value)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Payment Methods\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-methods\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"payment-method\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:requestsInfo.paymentMethods.paypal,onChange:e=>setRequestsInfo({...requestsInfo,paymentMethods:{...requestsInfo.paymentMethods,paypal:e.target.checked}})}),\"Accept PayPal\"]}),requestsInfo.paymentMethods.paypal&&/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:requestsInfo.paymentMethods.paypalEmail||'',onChange:e=>setRequestsInfo({...requestsInfo,paymentMethods:{...requestsInfo.paymentMethods,paypalEmail:e.target.value}}),placeholder:\"PayPal Email Address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-method\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:requestsInfo.paymentMethods.stripe,onChange:e=>setRequestsInfo({...requestsInfo,paymentMethods:{...requestsInfo.paymentMethods,stripe:e.target.checked}})}),\"Accept Stripe\"]}),requestsInfo.paymentMethods.stripe&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:requestsInfo.paymentMethods.stripeAccountId||'',onChange:e=>setRequestsInfo({...requestsInfo,paymentMethods:{...requestsInfo.paymentMethods,stripeAccountId:e.target.value}}),placeholder:\"Stripe Account ID\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:handleUpdateRequestsInfo,children:\"Save Settings\"})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"requests-info-preview\",children:[/*#__PURE__*/_jsx(\"h4\",{children:requestsInfo.headline}),/*#__PURE__*/_jsx(\"p\",{children:requestsInfo.description||'No description provided'}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Response time: \",requestsInfo.responseTime,\" days\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-methods-preview\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Payment Methods:\"}),!requestsInfo.paymentMethods.paypal&&!requestsInfo.paymentMethods.stripe?/*#__PURE__*/_jsx(\"p\",{children:\"No payment methods configured\"}):/*#__PURE__*/_jsxs(\"ul\",{children:[requestsInfo.paymentMethods.paypal&&/*#__PURE__*/_jsx(\"li\",{children:\"PayPal\"}),requestsInfo.paymentMethods.stripe&&/*#__PURE__*/_jsx(\"li\",{children:\"Stripe\"})]})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-section\",children:/*#__PURE__*/_jsx(PaymentSettings,{user:user,onUpdate:handleSaveProfile})}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-section\",children:/*#__PURE__*/_jsx(PricingOptions,{user:user,onUpdate:handleSaveProfile})})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useRef","FaPlus","FaTrash","FaEdit","FaGripLines","FaLink","FaMusic","FaVideo","FaPodcast","FaGlobe","FaTwitter","FaInstagram","FaFacebook","FaYoutube","FaSoundcloud","FaSpotify","FaDollarSign","FaClock","FaEye","useNavigate","PaymentSettings","PricingOptions","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","_user$name","_user$name$","user","setUser","loading","setLoading","error","setError","isEditing","setIsEditing","editedName","setEditedName","editedBio","setEditedBio","editedDisplayName","setEditedDisplayName","editedLocation","setEditedLocation","editedProfession","setEditedProfession","editedProfileTheme","setEditedProfileTheme","selectedImage","setSelectedImage","imagePreview","setImagePreview","fileInputRef","navigate","mediaLinks","setMediaLinks","showAddLinkForm","setShowAddLinkForm","editingLinkId","setEditingLinkId","newLink","setNewLink","title","url","type","icon","pricingOptions","setPricingOptions","showAddPricingForm","setShowAddPricingForm","editingPricingId","setEditingPricingId","newPricingOption","setNewPricingOption","description","price","deliveryTime","isActive","acceptsRequests","setAcceptsRequests","requestsInfo","setRequestsInfo","headline","responseTime","paymentMethods","paypal","stripe","paypalEmail","stripeAccountId","showRequestsInfoForm","setShowRequestsInfoForm","fetchUserProfile","token","localStorage","getItem","response","fetch","headers","ok","Error","userData","json","name","bio","displayName","location","profession","profileTheme","picture","err","message","handleImageChange","e","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handleSaveProfile","formData","FormData","append","method","body","updatedUser","handleAddLink","JSON","stringify","addedLink","handleUpdateLink","updatedLink","map","link","_id","handleDeleteLink","linkId","filter","handleEditLink","getIconComponent","handleAddPricingOption","addedOption","handleUpdatePricingOption","updatedOption","option","handleDeletePricingOption","optionId","handleEditPricingOption","toString","handleTogglePricingOptionStatus","opt","handleUpdateRequestsInfo","updatedInfo","handleToggleAcceptsRequests","className","children","onClick","src","alt","toUpperCase","current","click","ref","accept","onChange","style","display","value","placeholder","rows","length","checked","min","step","toFixed","charAt","slice","parseInt","onUpdate"],"sources":["/Users/davidmcguire/Desktop/Master/Cursor/AudioZoom/client/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { FaPlus, FaTrash, FaEdit, FaGripLines, FaLink, FaMusic, FaVideo, FaPodcast, FaGlobe, FaTwitter, FaInstagram, FaFacebook, FaYoutube, FaSoundcloud, FaSpotify, FaDollarSign, FaClock, FaEye } from 'react-icons/fa';\nimport { useNavigate } from 'react-router-dom';\nimport './Profile.css';\nimport PaymentSettings from '../components/PaymentSettings';\nimport PricingOptions from '../components/PricingOptions';\n\nconst Profile = () => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedName, setEditedName] = useState('');\n  const [editedBio, setEditedBio] = useState('');\n  const [editedDisplayName, setEditedDisplayName] = useState('');\n  const [editedLocation, setEditedLocation] = useState('');\n  const [editedProfession, setEditedProfession] = useState('');\n  const [editedProfileTheme, setEditedProfileTheme] = useState('default');\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const fileInputRef = useRef(null);\n  const navigate = useNavigate();\n  \n  // Media links state\n  const [mediaLinks, setMediaLinks] = useState([]);\n  const [showAddLinkForm, setShowAddLinkForm] = useState(false);\n  const [editingLinkId, setEditingLinkId] = useState(null);\n  const [newLink, setNewLink] = useState({\n    title: '',\n    url: '',\n    type: 'website',\n    icon: 'link'\n  });\n\n  // Pricing options state\n  const [pricingOptions, setPricingOptions] = useState([]);\n  const [showAddPricingForm, setShowAddPricingForm] = useState(false);\n  const [editingPricingId, setEditingPricingId] = useState(null);\n  const [newPricingOption, setNewPricingOption] = useState({\n    title: '',\n    description: '',\n    price: '',\n    deliveryTime: '7',\n    type: 'personal',\n    isActive: true\n  });\n  \n  // Requests info state\n  const [acceptsRequests, setAcceptsRequests] = useState(false);\n  const [requestsInfo, setRequestsInfo] = useState({\n    headline: 'Request a personalized audio message',\n    description: '',\n    responseTime: 7,\n    paymentMethods: {\n      paypal: false,\n      stripe: false,\n      paypalEmail: '',\n      stripeAccountId: ''\n    }\n  });\n  const [showRequestsInfoForm, setShowRequestsInfoForm] = useState(false);\n\n  useEffect(() => {\n    fetchUserProfile();\n  }, []);\n\n  const fetchUserProfile = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5001/api/users/profile', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch profile');\n      }\n\n      const userData = await response.json();\n      setUser(userData);\n      setEditedName(userData.name);\n      setEditedBio(userData.bio || '');\n      setEditedDisplayName(userData.displayName || '');\n      setEditedLocation(userData.location || '');\n      setEditedProfession(userData.profession || '');\n      setEditedProfileTheme(userData.profileTheme || 'default');\n      setImagePreview(userData.picture);\n      setMediaLinks(userData.mediaLinks || []);\n      setPricingOptions(userData.pricingOptions || []);\n      setAcceptsRequests(userData.acceptsRequests || false);\n      setRequestsInfo(userData.requestsInfo || {\n        headline: 'Request a personalized audio message',\n        description: '',\n        responseTime: 7,\n        paymentMethods: {\n          paypal: false,\n          stripe: false,\n          paypalEmail: '',\n          stripeAccountId: ''\n        }\n      });\n      setLoading(false);\n    } catch (err) {\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setSelectedImage(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSaveProfile = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const formData = new FormData();\n      formData.append('name', editedName);\n      formData.append('bio', editedBio);\n      formData.append('displayName', editedDisplayName);\n      formData.append('location', editedLocation);\n      formData.append('profession', editedProfession);\n      formData.append('profileTheme', editedProfileTheme);\n      \n      if (selectedImage) {\n        formData.append('picture', selectedImage);\n      }\n\n      const response = await fetch('http://localhost:5001/api/users/profile', {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update profile');\n      }\n\n      const updatedUser = await response.json();\n      setUser(updatedUser);\n      setIsEditing(false);\n      setSelectedImage(null);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Media link functions\n  const handleAddLink = async () => {\n    try {\n      if (!newLink.title || !newLink.url) {\n        setError('Title and URL are required');\n        return;\n      }\n\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5001/api/users/profile/media-links', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newLink)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to add link');\n      }\n\n      const addedLink = await response.json();\n      setMediaLinks([...mediaLinks, addedLink]);\n      setNewLink({\n        title: '',\n        url: '',\n        type: 'website',\n        icon: 'link'\n      });\n      setShowAddLinkForm(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleUpdateLink = async () => {\n    try {\n      if (!newLink.title || !newLink.url) {\n        setError('Title and URL are required');\n        return;\n      }\n\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5001/api/users/profile/media-links/${editingLinkId}`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newLink)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update link');\n      }\n\n      const updatedLink = await response.json();\n      setMediaLinks(mediaLinks.map(link => \n        link._id === editingLinkId ? updatedLink : link\n      ));\n      setNewLink({\n        title: '',\n        url: '',\n        type: 'website',\n        icon: 'link'\n      });\n      setEditingLinkId(null);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleDeleteLink = async (linkId) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5001/api/users/profile/media-links/${linkId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to delete link');\n      }\n\n      setMediaLinks(mediaLinks.filter(link => link._id !== linkId));\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleEditLink = (link) => {\n    setNewLink({\n      title: link.title,\n      url: link.url,\n      type: link.type,\n      icon: link.icon\n    });\n    setEditingLinkId(link._id);\n    setShowAddLinkForm(true);\n  };\n\n  const getIconComponent = (type, icon) => {\n    switch (type) {\n      case 'music':\n        return <FaMusic />;\n      case 'video':\n        return <FaVideo />;\n      case 'podcast':\n        return <FaPodcast />;\n      case 'social':\n        switch (icon) {\n          case 'twitter':\n            return <FaTwitter />;\n          case 'instagram':\n            return <FaInstagram />;\n          case 'facebook':\n            return <FaFacebook />;\n          case 'youtube':\n            return <FaYoutube />;\n          case 'soundcloud':\n            return <FaSoundcloud />;\n          case 'spotify':\n            return <FaSpotify />;\n          default:\n            return <FaLink />;\n        }\n      case 'website':\n      default:\n        return <FaGlobe />;\n    }\n  };\n\n  // Pricing option functions\n  const handleAddPricingOption = async () => {\n    try {\n      if (!newPricingOption.title || !newPricingOption.price) {\n        setError('Title and price are required');\n        return;\n      }\n\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5001/api/users/profile/pricing-options', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newPricingOption)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to add pricing option');\n      }\n\n      const addedOption = await response.json();\n      setPricingOptions([...pricingOptions, addedOption]);\n      setNewPricingOption({\n        title: '',\n        description: '',\n        price: '',\n        deliveryTime: '7',\n        type: 'personal',\n        isActive: true\n      });\n      setShowAddPricingForm(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleUpdatePricingOption = async () => {\n    try {\n      if (!newPricingOption.title || !newPricingOption.price) {\n        setError('Title and price are required');\n        return;\n      }\n\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5001/api/users/profile/pricing-options/${editingPricingId}`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newPricingOption)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update pricing option');\n      }\n\n      const updatedOption = await response.json();\n      setPricingOptions(pricingOptions.map(option => \n        option._id === editingPricingId ? updatedOption : option\n      ));\n      setNewPricingOption({\n        title: '',\n        description: '',\n        price: '',\n        deliveryTime: '7',\n        type: 'personal',\n        isActive: true\n      });\n      setEditingPricingId(null);\n      setShowAddPricingForm(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleDeletePricingOption = async (optionId) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5001/api/users/profile/pricing-options/${optionId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to delete pricing option');\n      }\n\n      setPricingOptions(pricingOptions.filter(option => option._id !== optionId));\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleEditPricingOption = (option) => {\n    setNewPricingOption({\n      title: option.title,\n      description: option.description || '',\n      price: option.price.toString(),\n      deliveryTime: option.deliveryTime.toString(),\n      type: option.type,\n      isActive: option.isActive\n    });\n    setEditingPricingId(option._id);\n    setShowAddPricingForm(true);\n  };\n\n  const handleTogglePricingOptionStatus = async (option) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5001/api/users/profile/pricing-options/${option._id}`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          isActive: !option.isActive\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update pricing option status');\n      }\n\n      const updatedOption = await response.json();\n      setPricingOptions(pricingOptions.map(opt => \n        opt._id === option._id ? updatedOption : opt\n      ));\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Requests info functions\n  const handleUpdateRequestsInfo = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5001/api/users/profile/requests-info', {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          headline: requestsInfo.headline,\n          description: requestsInfo.description,\n          responseTime: requestsInfo.responseTime,\n          paymentMethods: JSON.stringify(requestsInfo.paymentMethods)\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update requests info');\n      }\n\n      const updatedInfo = await response.json();\n      setRequestsInfo(updatedInfo);\n      setShowRequestsInfoForm(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleToggleAcceptsRequests = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5001/api/users/profile', {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          acceptsRequests: (!acceptsRequests).toString()\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update profile');\n      }\n\n      const updatedUser = await response.json();\n      setUser(updatedUser);\n      setAcceptsRequests(updatedUser.acceptsRequests);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"profile-container loading\">Loading...</div>;\n  }\n\n  if (error) {\n    return <div className=\"profile-container error\">{error}</div>;\n  }\n\n  return (\n    <div className=\"profile-container\">\n      <div className=\"profile-header\">\n        <h1>My Profile</h1>\n        <div className=\"profile-header-buttons\">\n          {!isEditing && (\n            <>\n              <button \n                className=\"view-profile-button\"\n                onClick={() => navigate(`/profile/${user.displayName || user._id}`)}\n              >\n                <FaEye /> View Public Profile\n              </button>\n              <button className=\"edit-button\" onClick={() => setIsEditing(true)}>\n                Edit Profile\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n\n      <div className=\"profile-content\">\n        <div className=\"profile-image-section\">\n          <div className=\"profile-image\">\n            {imagePreview ? (\n              <img src={imagePreview} alt=\"Profile\" />\n            ) : (\n              <div className=\"profile-image-placeholder\">\n                {user?.name?.[0]?.toUpperCase()}\n              </div>\n            )}\n            {isEditing && (\n              <>\n                <button\n                  className=\"change-image-button\"\n                  onClick={() => fileInputRef.current.click()}\n                >\n                  Change Image\n                </button>\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={handleImageChange}\n                  style={{ display: 'none' }}\n                />\n              </>\n            )}\n          </div>\n        </div>\n\n        <div className=\"profile-details\">\n          {isEditing ? (\n            <>\n              <div className=\"form-group\">\n                <label>Name:</label>\n                <input\n                  type=\"text\"\n                  value={editedName}\n                  onChange={(e) => setEditedName(e.target.value)}\n                  placeholder=\"Enter your name\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Display Name (optional):</label>\n                <input\n                  type=\"text\"\n                  value={editedDisplayName}\n                  onChange={(e) => setEditedDisplayName(e.target.value)}\n                  placeholder=\"Enter a display name\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Location (optional):</label>\n                <input\n                  type=\"text\"\n                  value={editedLocation}\n                  onChange={(e) => setEditedLocation(e.target.value)}\n                  placeholder=\"Enter your location\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Profession (optional):</label>\n                <input\n                  type=\"text\"\n                  value={editedProfession}\n                  onChange={(e) => setEditedProfession(e.target.value)}\n                  placeholder=\"Enter your profession\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Bio:</label>\n                <textarea\n                  value={editedBio}\n                  onChange={(e) => setEditedBio(e.target.value)}\n                  placeholder=\"Tell us about yourself\"\n                  rows={4}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Profile Theme:</label>\n                <select \n                  value={editedProfileTheme} \n                  onChange={(e) => setEditedProfileTheme(e.target.value)}\n                >\n                  <option value=\"default\">Default</option>\n                  <option value=\"dark\">Dark</option>\n                  <option value=\"light\">Light</option>\n                  <option value=\"colorful\">Colorful</option>\n                </select>\n              </div>\n              <div className=\"profile-actions\">\n                <button className=\"save-button\" onClick={handleSaveProfile}>\n                  Save Changes\n                </button>\n                <button\n                  className=\"cancel-button\"\n                  onClick={() => {\n                    setIsEditing(false);\n                    setEditedName(user.name);\n                    setEditedBio(user.bio || '');\n                    setEditedDisplayName(user.displayName || '');\n                    setEditedLocation(user.location || '');\n                    setEditedProfession(user.profession || '');\n                    setEditedProfileTheme(user.profileTheme || 'default');\n                    setImagePreview(user.picture);\n                    setSelectedImage(null);\n                  }}\n                >\n                  Cancel\n                </button>\n              </div>\n            </>\n          ) : (\n            <>\n              <h2>{user.displayName || user.name}</h2>\n              {user.profession && <p className=\"profession\">{user.profession}</p>}\n              {user.location && <p className=\"location\">{user.location}</p>}\n              <p className=\"bio\">{user.bio || 'No bio available'}</p>\n            </>\n          )}\n        </div>\n      </div>\n\n      <div className=\"media-links-section\">\n        <div className=\"section-header\">\n          <h2>My Links</h2>\n          <button \n            className=\"add-link-button\"\n            onClick={() => {\n              setShowAddLinkForm(true);\n              setEditingLinkId(null);\n              setNewLink({\n                title: '',\n                url: '',\n                type: 'website',\n                icon: 'link'\n              });\n            }}\n          >\n            <FaPlus /> Add Link\n          </button>\n        </div>\n\n        {showAddLinkForm && (\n          <div className=\"link-form\">\n            <h3>{editingLinkId ? 'Edit Link' : 'Add New Link'}</h3>\n            <div className=\"form-group\">\n              <label>Title:</label>\n              <input\n                type=\"text\"\n                value={newLink.title}\n                onChange={(e) => setNewLink({...newLink, title: e.target.value})}\n                placeholder=\"Enter link title\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>URL:</label>\n              <input\n                type=\"text\"\n                value={newLink.url}\n                onChange={(e) => setNewLink({...newLink, url: e.target.value})}\n                placeholder=\"Enter URL (https://...)\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Type:</label>\n              <select\n                value={newLink.type}\n                onChange={(e) => setNewLink({...newLink, type: e.target.value})}\n              >\n                <option value=\"website\">Website</option>\n                <option value=\"social\">Social Media</option>\n                <option value=\"music\">Music</option>\n                <option value=\"video\">Video</option>\n                <option value=\"podcast\">Podcast</option>\n                <option value=\"other\">Other</option>\n              </select>\n            </div>\n            {newLink.type === 'social' && (\n              <div className=\"form-group\">\n                <label>Platform:</label>\n                <select\n                  value={newLink.icon}\n                  onChange={(e) => setNewLink({...newLink, icon: e.target.value})}\n                >\n                  <option value=\"twitter\">Twitter</option>\n                  <option value=\"instagram\">Instagram</option>\n                  <option value=\"facebook\">Facebook</option>\n                  <option value=\"youtube\">YouTube</option>\n                  <option value=\"soundcloud\">SoundCloud</option>\n                  <option value=\"spotify\">Spotify</option>\n                  <option value=\"link\">Other</option>\n                </select>\n              </div>\n            )}\n            <div className=\"link-form-actions\">\n              <button \n                className=\"save-button\"\n                onClick={editingLinkId ? handleUpdateLink : handleAddLink}\n              >\n                {editingLinkId ? 'Update Link' : 'Add Link'}\n              </button>\n              <button \n                className=\"cancel-button\"\n                onClick={() => {\n                  setShowAddLinkForm(false);\n                  setEditingLinkId(null);\n                }}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        )}\n\n        <div className=\"links-preview\">\n          {mediaLinks.length === 0 ? (\n            <p className=\"no-links\">No links added yet. Add your first link to create your Linktree-style profile.</p>\n          ) : (\n            <div className=\"links-list\">\n              {mediaLinks.map((link) => (\n                <div key={link._id} className=\"link-item\">\n                  <div className=\"link-drag-handle\">\n                    <FaGripLines />\n                  </div>\n                  <div className=\"link-icon\">\n                    {getIconComponent(link.type, link.icon)}\n                  </div>\n                  <div className=\"link-content\">\n                    <h3>{link.title}</h3>\n                    <p className=\"link-url\">{link.url}</p>\n                  </div>\n                  <div className=\"link-actions\">\n                    <button \n                      className=\"edit-link-button\"\n                      onClick={() => handleEditLink(link)}\n                    >\n                      <FaEdit />\n                    </button>\n                    <button \n                      className=\"delete-link-button\"\n                      onClick={() => handleDeleteLink(link._id)}\n                    >\n                      <FaTrash />\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Pricing Options Section */}\n      <div className=\"pricing-options-section\">\n        <div className=\"section-header\">\n          <h2>Pricing Options</h2>\n          <div className=\"section-actions\">\n            <div className=\"toggle-container\">\n              <label className=\"toggle-label\">\n                Accept Audio Requests:\n                <div className=\"toggle-switch\">\n                  <input\n                    type=\"checkbox\"\n                    checked={acceptsRequests}\n                    onChange={handleToggleAcceptsRequests}\n                  />\n                  <span className=\"toggle-slider\"></span>\n                </div>\n              </label>\n            </div>\n            <button \n              className=\"add-button\"\n              onClick={() => {\n                setShowAddPricingForm(true);\n                setEditingPricingId(null);\n                setNewPricingOption({\n                  title: '',\n                  description: '',\n                  price: '',\n                  deliveryTime: '7',\n                  type: 'personal',\n                  isActive: true\n                });\n              }}\n            >\n              <FaPlus /> Add Pricing Option\n            </button>\n          </div>\n        </div>\n\n        {showAddPricingForm && (\n          <div className=\"pricing-form\">\n            <h3>{editingPricingId ? 'Edit Pricing Option' : 'Add New Pricing Option'}</h3>\n            <div className=\"form-group\">\n              <label>Title:</label>\n              <input\n                type=\"text\"\n                value={newPricingOption.title}\n                onChange={(e) => setNewPricingOption({...newPricingOption, title: e.target.value})}\n                placeholder=\"e.g., Basic Package, Premium Shoutout\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Description:</label>\n              <textarea\n                value={newPricingOption.description}\n                onChange={(e) => setNewPricingOption({...newPricingOption, description: e.target.value})}\n                placeholder=\"Describe what's included in this option\"\n                rows={3}\n              />\n            </div>\n            <div className=\"form-row\">\n              <div className=\"form-group half\">\n                <label>Price ($):</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  step=\"0.01\"\n                  value={newPricingOption.price}\n                  onChange={(e) => setNewPricingOption({...newPricingOption, price: e.target.value})}\n                  placeholder=\"0.00\"\n                />\n              </div>\n              <div className=\"form-group half\">\n                <label>Delivery Time (days):</label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  value={newPricingOption.deliveryTime}\n                  onChange={(e) => setNewPricingOption({...newPricingOption, deliveryTime: e.target.value})}\n                  placeholder=\"7\"\n                />\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <label>Type:</label>\n              <select\n                value={newPricingOption.type}\n                onChange={(e) => setNewPricingOption({...newPricingOption, type: e.target.value})}\n              >\n                <option value=\"personal\">Personal</option>\n                <option value=\"business\">Business</option>\n                <option value=\"custom\">Custom</option>\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={newPricingOption.isActive}\n                  onChange={(e) => setNewPricingOption({...newPricingOption, isActive: e.target.checked})}\n                />\n                Active (visible to customers)\n              </label>\n            </div>\n            <div className=\"form-actions\">\n              <button \n                className=\"save-button\"\n                onClick={editingPricingId ? handleUpdatePricingOption : handleAddPricingOption}\n              >\n                {editingPricingId ? 'Update Option' : 'Add Option'}\n              </button>\n              <button \n                className=\"cancel-button\"\n                onClick={() => {\n                  setShowAddPricingForm(false);\n                  setEditingPricingId(null);\n                }}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        )}\n\n        <div className=\"pricing-options-preview\">\n          {pricingOptions.length === 0 ? (\n            <p className=\"no-options\">No pricing options added yet. Add your first option to start accepting audio requests.</p>\n          ) : (\n            <div className=\"pricing-options-list\">\n              {pricingOptions.map((option) => (\n                <div key={option._id} className={`pricing-option-item ${!option.isActive ? 'inactive' : ''}`}>\n                  <div className=\"pricing-option-header\">\n                    <h3>{option.title}</h3>\n                    <div className=\"pricing-option-price\">\n                      <FaDollarSign />{option.price.toFixed(2)}\n                    </div>\n                  </div>\n                  <div className=\"pricing-option-details\">\n                    <p className=\"pricing-option-description\">{option.description || 'No description provided'}</p>\n                    <p className=\"pricing-option-delivery\">\n                      <FaClock /> Delivery in {option.deliveryTime} days\n                    </p>\n                    <p className=\"pricing-option-type\">Type: {option.type.charAt(0).toUpperCase() + option.type.slice(1)}</p>\n                  </div>\n                  <div className=\"pricing-option-actions\">\n                    <button \n                      className=\"toggle-status-button\"\n                      onClick={() => handleTogglePricingOptionStatus(option)}\n                      title={option.isActive ? 'Deactivate' : 'Activate'}\n                    >\n                      {option.isActive ? 'Active' : 'Inactive'}\n                    </button>\n                    <button \n                      className=\"edit-option-button\"\n                      onClick={() => handleEditPricingOption(option)}\n                    >\n                      <FaEdit />\n                    </button>\n                    <button \n                      className=\"delete-option-button\"\n                      onClick={() => handleDeletePricingOption(option._id)}\n                    >\n                      <FaTrash />\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {acceptsRequests && (\n          <div className=\"requests-info-section\">\n            <div className=\"section-header\">\n              <h3>Request Settings</h3>\n              <button \n                className=\"edit-button\"\n                onClick={() => setShowRequestsInfoForm(!showRequestsInfoForm)}\n              >\n                {showRequestsInfoForm ? 'Cancel' : 'Edit Settings'}\n              </button>\n            </div>\n\n            {showRequestsInfoForm ? (\n              <div className=\"requests-info-form\">\n                <div className=\"form-group\">\n                  <label>Headline:</label>\n                  <input\n                    type=\"text\"\n                    value={requestsInfo.headline}\n                    onChange={(e) => setRequestsInfo({...requestsInfo, headline: e.target.value})}\n                    placeholder=\"Request a personalized audio message\"\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Description:</label>\n                  <textarea\n                    value={requestsInfo.description}\n                    onChange={(e) => setRequestsInfo({...requestsInfo, description: e.target.value})}\n                    placeholder=\"Describe what customers can expect when requesting audio from you\"\n                    rows={3}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Response Time (days):</label>\n                  <input\n                    type=\"number\"\n                    min=\"1\"\n                    value={requestsInfo.responseTime}\n                    onChange={(e) => setRequestsInfo({...requestsInfo, responseTime: parseInt(e.target.value)})}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <h4>Payment Methods</h4>\n                  <div className=\"payment-methods\">\n                    <div className=\"payment-method\">\n                      <label className=\"checkbox-label\">\n                        <input\n                          type=\"checkbox\"\n                          checked={requestsInfo.paymentMethods.paypal}\n                          onChange={(e) => setRequestsInfo({\n                            ...requestsInfo, \n                            paymentMethods: {\n                              ...requestsInfo.paymentMethods,\n                              paypal: e.target.checked\n                            }\n                          })}\n                        />\n                        Accept PayPal\n                      </label>\n                      {requestsInfo.paymentMethods.paypal && (\n                        <input\n                          type=\"email\"\n                          value={requestsInfo.paymentMethods.paypalEmail || ''}\n                          onChange={(e) => setRequestsInfo({\n                            ...requestsInfo, \n                            paymentMethods: {\n                              ...requestsInfo.paymentMethods,\n                              paypalEmail: e.target.value\n                            }\n                          })}\n                          placeholder=\"PayPal Email Address\"\n                        />\n                      )}\n                    </div>\n                    <div className=\"payment-method\">\n                      <label className=\"checkbox-label\">\n                        <input\n                          type=\"checkbox\"\n                          checked={requestsInfo.paymentMethods.stripe}\n                          onChange={(e) => setRequestsInfo({\n                            ...requestsInfo, \n                            paymentMethods: {\n                              ...requestsInfo.paymentMethods,\n                              stripe: e.target.checked\n                            }\n                          })}\n                        />\n                        Accept Stripe\n                      </label>\n                      {requestsInfo.paymentMethods.stripe && (\n                        <input\n                          type=\"text\"\n                          value={requestsInfo.paymentMethods.stripeAccountId || ''}\n                          onChange={(e) => setRequestsInfo({\n                            ...requestsInfo, \n                            paymentMethods: {\n                              ...requestsInfo.paymentMethods,\n                              stripeAccountId: e.target.value\n                            }\n                          })}\n                          placeholder=\"Stripe Account ID\"\n                        />\n                      )}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"form-actions\">\n                  <button \n                    className=\"save-button\"\n                    onClick={handleUpdateRequestsInfo}\n                  >\n                    Save Settings\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <div className=\"requests-info-preview\">\n                <h4>{requestsInfo.headline}</h4>\n                <p>{requestsInfo.description || 'No description provided'}</p>\n                <p>Response time: {requestsInfo.responseTime} days</p>\n                <div className=\"payment-methods-preview\">\n                  <h4>Payment Methods:</h4>\n                  {!requestsInfo.paymentMethods.paypal && !requestsInfo.paymentMethods.stripe ? (\n                    <p>No payment methods configured</p>\n                  ) : (\n                    <ul>\n                      {requestsInfo.paymentMethods.paypal && <li>PayPal</li>}\n                      {requestsInfo.paymentMethods.stripe && <li>Stripe</li>}\n                    </ul>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Payment Settings */}\n      <div className=\"profile-section\">\n        <PaymentSettings user={user} onUpdate={handleSaveProfile} />\n      </div>\n\n      {/* Pricing Options */}\n      <div className=\"profile-section\">\n        <PricingOptions user={user} onUpdate={handleSaveProfile} />\n      </div>\n    </div>\n  );\n};\n\nexport default Profile; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}