{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import'./AudioHistory.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AudioHistory=()=>{const[recordings,setRecordings]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[playingId,setPlayingId]=useState(null);const[audioProgress,setAudioProgress]=useState({});const[audioDurations,setAudioDurations]=useState({});const audioRefs=useRef({});const progressIntervals=useRef({});const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(!token){navigate('/login');return;}fetchRecordings();},[navigate]);// Cleanup intervals on unmount\nuseEffect(()=>{return()=>{Object.values(progressIntervals.current).forEach(interval=>{clearInterval(interval);});};},[]);const fetchRecordings=async()=>{try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5001/api/recordings',{headers:{'Authorization':`Bearer ${token}`}});if(!response.ok){throw new Error('Failed to fetch audio history');}const data=await response.json();setRecordings(data);setLoading(false);}catch(err){setError(err.message);setLoading(false);}};const formatDate=dateString=>{return new Date(dateString).toLocaleString('en-US',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};const formatTime=seconds=>{if(!seconds||isNaN(seconds)||!isFinite(seconds)){return'0:00';}const minutes=Math.floor(seconds/60);const remainingSeconds=Math.floor(seconds%60);return`${minutes}:${remainingSeconds.toString().padStart(2,'0')}`;};const handlePlayPause=recordingId=>{const audioElement=audioRefs.current[recordingId];if(playingId===recordingId){audioElement.pause();setPlayingId(null);clearInterval(progressIntervals.current[recordingId]);}else{// Stop any currently playing audio\nif(playingId){audioRefs.current[playingId].pause();clearInterval(progressIntervals.current[playingId]);}audioElement.play();setPlayingId(recordingId);// Start progress tracking\nprogressIntervals.current[recordingId]=setInterval(()=>{setAudioProgress(prev=>({...prev,[recordingId]:audioElement.currentTime}));},100);}};const handleAudioEnded=recordingId=>{if(playingId===recordingId){setPlayingId(null);clearInterval(progressIntervals.current[recordingId]);setAudioProgress(prev=>({...prev,[recordingId]:0}));}};const handleProgressClick=(e,recordingId)=>{const progressBar=e.currentTarget;const rect=progressBar.getBoundingClientRect();const x=e.clientX-rect.left;const percentage=x/rect.width;const audioElement=audioRefs.current[recordingId];if(audioElement){const newTime=percentage*audioDurations[recordingId];audioElement.currentTime=newTime;setAudioProgress(prev=>({...prev,[recordingId]:newTime}));}};const handleLoadedMetadata=recordingId=>{const audioElement=audioRefs.current[recordingId];if(audioElement){const loadDuration=()=>{const duration=audioElement.duration;if(isFinite(duration)&&!isNaN(duration)&&(!audioDurations[recordingId]||audioDurations[recordingId]!==duration)){setAudioDurations(prev=>({...prev,[recordingId]:duration}));}};loadDuration();// Try to load duration immediately\naudioElement.addEventListener('canplay',loadDuration);// Also try when audio is ready to play\nreturn()=>{audioElement.removeEventListener('canplay',loadDuration);};}};const handleDownload=async recording=>{try{const token=localStorage.getItem('token');const response=await fetch(`http://localhost:5001${recording.url}`,{headers:{'Authorization':`Bearer ${token}`}});if(!response.ok){throw new Error('Failed to download recording');}const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=`${recording.title||'recording'}.mp3`;document.body.appendChild(a);a.click();window.URL.revokeObjectURL(url);document.body.removeChild(a);}catch(err){setError(err.message);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"audio-history-container loading\",children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"audio-history-container error\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"audio-history-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Audio History\"}),recordings.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-recordings\",children:\"No audio recordings found. Send audio to see your history here!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"recordings-list\",children:recordings.map(recording=>/*#__PURE__*/_jsxs(\"div\",{className:\"recording-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"recording-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"recording-header\",children:[recording.artworkUrl?/*#__PURE__*/_jsx(\"div\",{className:\"recording-artwork\",children:/*#__PURE__*/_jsx(\"img\",{src:`http://localhost:5001${recording.artworkUrl}`,alt:\"Recording artwork\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"recording-artwork-placeholder\",children:/*#__PURE__*/_jsx(\"span\",{children:\"No Artwork\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"recording-title-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:recording.title||'Untitled Recording'}),/*#__PURE__*/_jsx(\"p\",{className:\"recording-date\",children:formatDate(recording.createdAt)}),recording.description&&/*#__PURE__*/_jsx(\"p\",{className:\"recording-description\",children:recording.description}),recording.shareWith&&/*#__PURE__*/_jsxs(\"p\",{className:\"shared-with\",children:[\"Shared with: \",recording.shareWith]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"recording-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:`play-pause-button ${playingId===recording._id?'playing':''}`,onClick:()=>handlePlayPause(recording._id),children:playingId===recording._id?'Pause':'Play'}),/*#__PURE__*/_jsxs(\"div\",{className:\"audio-progress\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",onClick:e=>handleProgressClick(e,recording._id),children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:`${(audioProgress[recording._id]||0)/(audioDurations[recording._id]||1)*100}%`}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-display\",children:[/*#__PURE__*/_jsx(\"span\",{children:formatTime(audioProgress[recording._id]||0)}),/*#__PURE__*/_jsx(\"span\",{children:formatTime(audioDurations[recording._id]||0)})]})]}),/*#__PURE__*/_jsx(\"audio\",{ref:el=>{audioRefs.current[recording._id]=el;if(el){el.preload=\"metadata\";handleLoadedMetadata(recording._id);}},src:`http://localhost:5001${recording.url}`,onEnded:()=>handleAudioEnded(recording._id),preload:\"metadata\",style:{display:'none'}}),/*#__PURE__*/_jsx(\"button\",{className:\"download-button\",onClick:()=>handleDownload(recording),children:\"Download\"})]})]},recording._id))})]});};export default AudioHistory;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","jsx","_jsx","jsxs","_jsxs","AudioHistory","recordings","setRecordings","loading","setLoading","error","setError","playingId","setPlayingId","audioProgress","setAudioProgress","audioDurations","setAudioDurations","audioRefs","progressIntervals","navigate","token","localStorage","getItem","fetchRecordings","Object","values","current","forEach","interval","clearInterval","response","fetch","headers","ok","Error","data","json","err","message","formatDate","dateString","Date","toLocaleString","year","month","day","hour","minute","formatTime","seconds","isNaN","isFinite","minutes","Math","floor","remainingSeconds","toString","padStart","handlePlayPause","recordingId","audioElement","pause","play","setInterval","prev","currentTime","handleAudioEnded","handleProgressClick","e","progressBar","currentTarget","rect","getBoundingClientRect","x","clientX","left","percentage","width","newTime","handleLoadedMetadata","loadDuration","duration","addEventListener","removeEventListener","handleDownload","recording","url","blob","window","URL","createObjectURL","a","document","createElement","href","download","title","body","appendChild","click","revokeObjectURL","removeChild","className","children","length","map","artworkUrl","src","alt","createdAt","description","shareWith","_id","onClick","style","ref","el","preload","onEnded","display"],"sources":["/Users/davidmcguire/Desktop/Master/Cursor/AudioZoom/client/src/pages/AudioHistory.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './AudioHistory.css';\n\nconst AudioHistory = () => {\n  const [recordings, setRecordings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [playingId, setPlayingId] = useState(null);\n  const [audioProgress, setAudioProgress] = useState({});\n  const [audioDurations, setAudioDurations] = useState({});\n  const audioRefs = useRef({});\n  const progressIntervals = useRef({});\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    fetchRecordings();\n  }, [navigate]);\n\n  // Cleanup intervals on unmount\n  useEffect(() => {\n    return () => {\n      Object.values(progressIntervals.current).forEach(interval => {\n        clearInterval(interval);\n      });\n    };\n  }, []);\n\n  const fetchRecordings = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5001/api/recordings', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch audio history');\n      }\n      const data = await response.json();\n      setRecordings(data);\n      setLoading(false);\n    } catch (err) {\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const formatTime = (seconds) => {\n    if (!seconds || isNaN(seconds) || !isFinite(seconds)) {\n      return '0:00';\n    }\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = Math.floor(seconds % 60);\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n\n  const handlePlayPause = (recordingId) => {\n    const audioElement = audioRefs.current[recordingId];\n    \n    if (playingId === recordingId) {\n      audioElement.pause();\n      setPlayingId(null);\n      clearInterval(progressIntervals.current[recordingId]);\n    } else {\n      // Stop any currently playing audio\n      if (playingId) {\n        audioRefs.current[playingId].pause();\n        clearInterval(progressIntervals.current[playingId]);\n      }\n      audioElement.play();\n      setPlayingId(recordingId);\n      \n      // Start progress tracking\n      progressIntervals.current[recordingId] = setInterval(() => {\n        setAudioProgress(prev => ({\n          ...prev,\n          [recordingId]: audioElement.currentTime\n        }));\n      }, 100);\n    }\n  };\n\n  const handleAudioEnded = (recordingId) => {\n    if (playingId === recordingId) {\n      setPlayingId(null);\n      clearInterval(progressIntervals.current[recordingId]);\n      setAudioProgress(prev => ({\n        ...prev,\n        [recordingId]: 0\n      }));\n    }\n  };\n\n  const handleProgressClick = (e, recordingId) => {\n    const progressBar = e.currentTarget;\n    const rect = progressBar.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const percentage = x / rect.width;\n    const audioElement = audioRefs.current[recordingId];\n    \n    if (audioElement) {\n      const newTime = percentage * audioDurations[recordingId];\n      audioElement.currentTime = newTime;\n      setAudioProgress(prev => ({\n        ...prev,\n        [recordingId]: newTime\n      }));\n    }\n  };\n\n  const handleLoadedMetadata = (recordingId) => {\n    const audioElement = audioRefs.current[recordingId];\n    if (audioElement) {\n      const loadDuration = () => {\n        const duration = audioElement.duration;\n        if (isFinite(duration) && !isNaN(duration) && (!audioDurations[recordingId] || audioDurations[recordingId] !== duration)) {\n          setAudioDurations(prev => ({\n            ...prev,\n            [recordingId]: duration\n          }));\n        }\n      };\n\n      loadDuration(); // Try to load duration immediately\n      audioElement.addEventListener('canplay', loadDuration); // Also try when audio is ready to play\n      return () => {\n        audioElement.removeEventListener('canplay', loadDuration);\n      };\n    }\n  };\n\n  const handleDownload = async (recording) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:5001${recording.url}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      \n      if (!response.ok) {\n        throw new Error('Failed to download recording');\n      }\n\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${recording.title || 'recording'}.mp3`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"audio-history-container loading\">Loading...</div>;\n  }\n\n  if (error) {\n    return <div className=\"audio-history-container error\">{error}</div>;\n  }\n\n  return (\n    <div className=\"audio-history-container\">\n      <h1>My Audio History</h1>\n      \n      {recordings.length === 0 ? (\n        <p className=\"no-recordings\">No audio recordings found. Send audio to see your history here!</p>\n      ) : (\n        <div className=\"recordings-list\">\n          {recordings.map((recording) => (\n            <div key={recording._id} className=\"recording-item\">\n              <div className=\"recording-info\">\n                <div className=\"recording-header\">\n                  {recording.artworkUrl ? (\n                    <div className=\"recording-artwork\">\n                      <img src={`http://localhost:5001${recording.artworkUrl}`} alt=\"Recording artwork\" />\n                    </div>\n                  ) : (\n                    <div className=\"recording-artwork-placeholder\">\n                      <span>No Artwork</span>\n                    </div>\n                  )}\n                  <div className=\"recording-title-section\">\n                    <h3>{recording.title || 'Untitled Recording'}</h3>\n                    <p className=\"recording-date\">{formatDate(recording.createdAt)}</p>\n                    {recording.description && (\n                      <p className=\"recording-description\">{recording.description}</p>\n                    )}\n                    {recording.shareWith && (\n                      <p className=\"shared-with\">Shared with: {recording.shareWith}</p>\n                    )}\n                  </div>\n                </div>\n              </div>\n              <div className=\"recording-controls\">\n                <button \n                  className={`play-pause-button ${playingId === recording._id ? 'playing' : ''}`}\n                  onClick={() => handlePlayPause(recording._id)}\n                >\n                  {playingId === recording._id ? 'Pause' : 'Play'}\n                </button>\n                \n                <div className=\"audio-progress\">\n                  <div \n                    className=\"progress-bar\"\n                    onClick={(e) => handleProgressClick(e, recording._id)}\n                  >\n                    <div \n                      className=\"progress-fill\"\n                      style={{ \n                        width: `${(audioProgress[recording._id] || 0) / (audioDurations[recording._id] || 1) * 100}%` \n                      }}\n                    />\n                  </div>\n                  <div className=\"time-display\">\n                    <span>{formatTime(audioProgress[recording._id] || 0)}</span>\n                    <span>{formatTime(audioDurations[recording._id] || 0)}</span>\n                  </div>\n                </div>\n\n                <audio\n                  ref={el => {\n                    audioRefs.current[recording._id] = el;\n                    if (el) {\n                      el.preload = \"metadata\";\n                      handleLoadedMetadata(recording._id);\n                    }\n                  }}\n                  src={`http://localhost:5001${recording.url}`}\n                  onEnded={() => handleAudioEnded(recording._id)}\n                  preload=\"metadata\"\n                  style={{ display: 'none' }}\n                />\n                \n                <button \n                  className=\"download-button\"\n                  onClick={() => handleDownload(recording)}\n                >\n                  Download\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AudioHistory; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}