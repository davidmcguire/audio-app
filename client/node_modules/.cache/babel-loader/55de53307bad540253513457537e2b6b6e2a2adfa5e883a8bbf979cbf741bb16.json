{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,Card,Alert,Tabs,Tab,Spinner}from'react-bootstrap';import{loadStripe}from'@stripe/stripe-js';import{PayPalButtons,PayPalScriptProvider}from'@paypal/react-paypal-js';import axios from'axios';// Initialize Stripe with your public key\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const stripePromise=loadStripe(process.env.REACT_APP_STRIPE_PUBLIC_KEY);const PaymentCheckout=_ref=>{let{request,pricingOption,podcasterId,onPaymentComplete}=_ref;const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[activeTab,setActiveTab]=useState('stripe');const[clientSecret,setClientSecret]=useState('');const[feeBreakdown,setFeeBreakdown]=useState({total:0,platformFee:0,creatorAmount:0});useEffect(()=>{// Create payment intent when component mounts\nif(activeTab==='stripe'){createStripePaymentIntent();}},[activeTab]);const createStripePaymentIntent=async()=>{try{setLoading(true);setError('');const response=await axios.post('http://localhost:5001/api/payments/create-stripe-payment-intent',{amount:pricingOption.price,podcasterId:podcasterId,pricingOptionId:pricingOption.id},{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setClientSecret(response.data.clientSecret);setFeeBreakdown({total:pricingOption.price/100,platformFee:response.data.applicationFeeAmount/100,creatorAmount:response.data.creatorAmount/100});}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to create payment intent. Please try again.');console.error('Stripe payment intent error:',err);}finally{setLoading(false);}};const handleStripePayment=async()=>{try{setLoading(true);// In a real implementation, you would use Stripe Elements\n// For now, we'll simulate a successful payment\nsetTimeout(()=>{if(onPaymentComplete)onPaymentComplete();setLoading(false);},2000);}catch(err){setError(err.message||'Payment failed. Please try again.');setLoading(false);}};const createPayPalOrder=async()=>{try{const token=localStorage.getItem('token');const response=await axios.post('http://localhost:5001/api/payments/create-paypal-order',{amount:pricingOption.price,currency:pricingOption.currency||'USD',requestId:request._id,podcasterId},{headers:{Authorization:`Bearer ${token}`}});return response.data.orderId;}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Failed to create PayPal order. Please try again.');console.error('PayPal order error:',err);return null;}};const renderFeeBreakdown=()=>{if(feeBreakdown.total===0)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"fee-breakdown\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Payment Breakdown\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"breakdown-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Payment:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",feeBreakdown.total.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"breakdown-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Platform Fee (40%):\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",feeBreakdown.platformFee.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"breakdown-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Creator Receives:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",feeBreakdown.creatorAmount.toFixed(2)]})]})]});};return/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h5\",{children:\"Complete Payment\"})}),/*#__PURE__*/_jsxs(Card.Body,{children:[error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Payment Summary\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Service:\"}),\" \",pricingOption.title]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" \",pricingOption.price,\" \",pricingOption.currency||'USD']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",pricingOption.description]})]}),/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onSelect:k=>setActiveTab(k),className:\"mb-3\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"stripe\",title:\"Credit Card (Stripe)\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"Processing payment...\"})]}):clientSecret?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Enter your card details to complete the payment:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border rounded mb-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",children:\"Card details would go here in production\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Card number\",disabled:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"MM/YY\",disabled:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"CVC\",disabled:true})})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleStripePayment,disabled:loading,className:\"mt-3\",children:loading?'Processing...':'Pay Now'})]}):/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:createStripePaymentIntent,disabled:loading,children:\"Initialize Payment\"})}),/*#__PURE__*/_jsxs(Tab,{eventKey:\"paypal\",title:\"PayPal\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Click the PayPal button to complete your payment:\"}),/*#__PURE__*/_jsx(PayPalScriptProvider,{options:{\"client-id\":\"test\",// Use your PayPal client ID in production\ncurrency:pricingOption.currency||'USD'},children:/*#__PURE__*/_jsx(PayPalButtons,{createOrder:()=>{// For demo purposes, create a simple order\nreturn\"demo-order-id\";// In production, use the createPayPalOrder function\n// return createPayPalOrder();\n},onApprove:(data,actions)=>{// Payment approved\nif(onPaymentComplete)onPaymentComplete();return Promise.resolve();},onError:err=>{setError('PayPal payment failed. Please try again.');console.error('PayPal error:',err);},style:{layout:'horizontal'}})})]})]}),renderFeeBreakdown()]})]});};export default PaymentCheckout;","map":{"version":3,"names":["React","useState","useEffect","Button","Card","Alert","Tabs","Tab","Spinner","loadStripe","PayPalButtons","PayPalScriptProvider","axios","jsx","_jsx","jsxs","_jsxs","stripePromise","process","env","REACT_APP_STRIPE_PUBLIC_KEY","PaymentCheckout","_ref","request","pricingOption","podcasterId","onPaymentComplete","loading","setLoading","error","setError","activeTab","setActiveTab","clientSecret","setClientSecret","feeBreakdown","setFeeBreakdown","total","platformFee","creatorAmount","createStripePaymentIntent","response","post","amount","price","pricingOptionId","id","headers","Authorization","localStorage","getItem","data","applicationFeeAmount","err","_err$response","_err$response$data","message","console","handleStripePayment","setTimeout","createPayPalOrder","token","currency","requestId","_id","orderId","_err$response2","_err$response2$data","renderFeeBreakdown","className","children","toFixed","Header","Body","variant","title","description","activeKey","onSelect","k","eventKey","animation","type","placeholder","disabled","onClick","options","createOrder","onApprove","actions","Promise","resolve","onError","style","layout"],"sources":["/Users/davidmcguire/Desktop/Master/Cursor/AudioZoom/client/src/components/PaymentCheckout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, Card, Alert, Tabs, Tab, Spinner } from 'react-bootstrap';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { PayPalButtons, PayPalScriptProvider } from '@paypal/react-paypal-js';\nimport axios from 'axios';\n\n// Initialize Stripe with your public key\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLIC_KEY);\n\nconst PaymentCheckout = ({ request, pricingOption, podcasterId, onPaymentComplete }) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [activeTab, setActiveTab] = useState('stripe');\n  const [clientSecret, setClientSecret] = useState('');\n  const [feeBreakdown, setFeeBreakdown] = useState({\n    total: 0,\n    platformFee: 0,\n    creatorAmount: 0\n  });\n  \n  useEffect(() => {\n    // Create payment intent when component mounts\n    if (activeTab === 'stripe') {\n      createStripePaymentIntent();\n    }\n  }, [activeTab]);\n  \n  const createStripePaymentIntent = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      const response = await axios.post(\n        'http://localhost:5001/api/payments/create-stripe-payment-intent',\n        {\n          amount: pricingOption.price,\n          podcasterId: podcasterId,\n          pricingOptionId: pricingOption.id\n        },\n        {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n        }\n      );\n      \n      setClientSecret(response.data.clientSecret);\n      setFeeBreakdown({\n        total: pricingOption.price / 100,\n        platformFee: response.data.applicationFeeAmount / 100,\n        creatorAmount: response.data.creatorAmount / 100\n      });\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to create payment intent. Please try again.');\n      console.error('Stripe payment intent error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const handleStripePayment = async () => {\n    try {\n      setLoading(true);\n      \n      // In a real implementation, you would use Stripe Elements\n      // For now, we'll simulate a successful payment\n      setTimeout(() => {\n        if (onPaymentComplete) onPaymentComplete();\n        setLoading(false);\n      }, 2000);\n    } catch (err) {\n      setError(err.message || 'Payment failed. Please try again.');\n      setLoading(false);\n    }\n  };\n  \n  const createPayPalOrder = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.post(\n        'http://localhost:5001/api/payments/create-paypal-order',\n        {\n          amount: pricingOption.price,\n          currency: pricingOption.currency || 'USD',\n          requestId: request._id,\n          podcasterId\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` }\n        }\n      );\n      \n      return response.data.orderId;\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to create PayPal order. Please try again.');\n      console.error('PayPal order error:', err);\n      return null;\n    }\n  };\n  \n  const renderFeeBreakdown = () => {\n    if (feeBreakdown.total === 0) return null;\n    \n    return (\n      <div className=\"fee-breakdown\">\n        <h4>Payment Breakdown</h4>\n        <div className=\"breakdown-item\">\n          <span>Total Payment:</span>\n          <span>${feeBreakdown.total.toFixed(2)}</span>\n        </div>\n        <div className=\"breakdown-item\">\n          <span>Platform Fee (40%):</span>\n          <span>${feeBreakdown.platformFee.toFixed(2)}</span>\n        </div>\n        <div className=\"breakdown-item\">\n          <span>Creator Receives:</span>\n          <span>${feeBreakdown.creatorAmount.toFixed(2)}</span>\n        </div>\n      </div>\n    );\n  };\n  \n  return (\n    <Card className=\"mb-4\">\n      <Card.Header>\n        <h5>Complete Payment</h5>\n      </Card.Header>\n      <Card.Body>\n        {error && <Alert variant=\"danger\">{error}</Alert>}\n        \n        <div className=\"mb-3\">\n          <h6>Payment Summary</h6>\n          <p><strong>Service:</strong> {pricingOption.title}</p>\n          <p><strong>Price:</strong> {pricingOption.price} {pricingOption.currency || 'USD'}</p>\n          <p><strong>Description:</strong> {pricingOption.description}</p>\n        </div>\n        \n        <Tabs\n          activeKey={activeTab}\n          onSelect={(k) => setActiveTab(k)}\n          className=\"mb-3\"\n        >\n          <Tab eventKey=\"stripe\" title=\"Credit Card (Stripe)\">\n            {loading ? (\n              <div className=\"text-center py-4\">\n                <Spinner animation=\"border\" />\n                <p className=\"mt-2\">Processing payment...</p>\n              </div>\n            ) : clientSecret ? (\n              <div>\n                <p>Enter your card details to complete the payment:</p>\n                {/* In a real implementation, you would use Stripe Elements here */}\n                <div className=\"p-3 border rounded mb-3\">\n                  <p className=\"mb-2\">Card details would go here in production</p>\n                  <div className=\"mb-2\">\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Card number\" disabled />\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col\">\n                      <input type=\"text\" className=\"form-control\" placeholder=\"MM/YY\" disabled />\n                    </div>\n                    <div className=\"col\">\n                      <input type=\"text\" className=\"form-control\" placeholder=\"CVC\" disabled />\n                    </div>\n                  </div>\n                </div>\n                <Button \n                  variant=\"primary\" \n                  onClick={handleStripePayment}\n                  disabled={loading}\n                  className=\"mt-3\"\n                >\n                  {loading ? 'Processing...' : 'Pay Now'}\n                </Button>\n              </div>\n            ) : (\n              <Button \n                variant=\"primary\" \n                onClick={createStripePaymentIntent}\n                disabled={loading}\n              >\n                Initialize Payment\n              </Button>\n            )}\n          </Tab>\n          \n          <Tab eventKey=\"paypal\" title=\"PayPal\">\n            <p>Click the PayPal button to complete your payment:</p>\n            <PayPalScriptProvider options={{ \n              \"client-id\": \"test\", // Use your PayPal client ID in production\n              currency: pricingOption.currency || 'USD'\n            }}>\n              <PayPalButtons\n                createOrder={() => {\n                  // For demo purposes, create a simple order\n                  return \"demo-order-id\";\n                  // In production, use the createPayPalOrder function\n                  // return createPayPalOrder();\n                }}\n                onApprove={(data, actions) => {\n                  // Payment approved\n                  if (onPaymentComplete) onPaymentComplete();\n                  return Promise.resolve();\n                }}\n                onError={(err) => {\n                  setError('PayPal payment failed. Please try again.');\n                  console.error('PayPal error:', err);\n                }}\n                style={{ layout: 'horizontal' }}\n              />\n            </PayPalScriptProvider>\n          </Tab>\n        </Tabs>\n        {renderFeeBreakdown()}\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default PaymentCheckout; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}