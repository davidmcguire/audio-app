{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import styled from'styled-components';import Button from'../components/Button';import Card from'../components/Card';import api from'../utils/api';import{FaEnvelope,FaEnvelopeOpen,FaCheckDouble}from'react-icons/fa';import'./Inbox.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EmptyState=styled.div`\n  text-align: center;\n  padding: 3rem 1rem;\n  color: ${props=>props.theme.colors.textLight};\n`;const ActionButton=styled(Button)`\n  margin-left: 0.5rem;\n`;const ReadIndicator=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: ${props=>props.read?props.theme.colors.textLight:props.theme.colors.primary};\n  font-size: 0.9rem;\n  font-weight: ${props=>props.read?'normal':'bold'};\n`;const MarkAllReadButton=styled(Button)`\n  margin-left: auto;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;const Inbox=()=>{const[messages,setMessages]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{fetchMessages();},[]);const fetchMessages=async()=>{try{setLoading(true);const response=await api.get('/api/messages');setMessages(response.data);setError(null);}catch(err){console.error('Error fetching messages:',err);if(err.response){setError(err.response.data.message||'Failed to load messages');}else if(err.request){setError('Network error - could not connect to server');}else{setError(err.message||'Failed to load messages');}}finally{setLoading(false);}};const markAsRead=async messageId=>{try{await api.patch(`/api/messages/${messageId}/read`,{});// Update the message in the local state\nsetMessages(messages.map(msg=>msg._id===messageId?{...msg,read:true}:msg));}catch(err){console.error('Error marking message as read:',err);// Show error toast or notification here if needed\n}};const markAllAsRead=async()=>{try{await api.post('/api/messages/mark-all-read');// Update all messages in the local state\nsetMessages(messages.map(msg=>({...msg,read:true})));}catch(err){console.error('Error marking all messages as read:',err);// Show error toast or notification here if needed\n}};const deleteMessage=async messageId=>{try{await api.delete(`/api/messages/${messageId}`);// Remove the message from the local state\nsetMessages(messages.filter(msg=>msg._id!==messageId));}catch(err){console.error('Error deleting message:',err);// Show error toast or notification here if needed\n}};const handleAcceptRequest=async messageId=>{try{// Implement request acceptance logic here\nconsole.log('Accepting request:',messageId);// Update the message status in the local state\nsetMessages(messages.map(msg=>msg._id===messageId?{...msg,requestDetails:{...msg.requestDetails,status:'ACCEPTED'}}:msg));}catch(err){console.error('Error accepting request:',err);}};const handleDeclineRequest=async messageId=>{try{// Implement request decline logic here\nconsole.log('Declining request:',messageId);// Update the message status in the local state\nsetMessages(messages.map(msg=>msg._id===messageId?{...msg,requestDetails:{...msg.requestDetails,status:'DECLINED'}}:msg));}catch(err){console.error('Error declining request:',err);}};const formatDate=dateString=>{const options={year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'};return new Date(dateString).toLocaleDateString(undefined,options);};const navigateToCompose=()=>{navigate('/compose');};const navigateToSent=()=>{navigate('/sent');};// Check if there are any unread messages\nconst hasUnreadMessages=messages.some(msg=>!msg.read);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"inbox-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Inbox\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading messages...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"inbox-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inbox-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Inbox\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inbox-actions\",children:[/*#__PURE__*/_jsx(Button,{$variant:\"outline\",onClick:navigateToSent,style:{marginRight:'10px'},children:\"Sent Messages\"}),/*#__PURE__*/_jsx(Button,{$variant:\"primary\",onClick:navigateToCompose,children:\"New Message\"})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),!error&&messages.length===0?/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(EmptyState,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Your inbox is empty\"}),/*#__PURE__*/_jsx(Button,{$variant:\"primary\",onClick:navigateToCompose,children:\"Send a Message\"})]})})}):/*#__PURE__*/_jsxs(_Fragment,{children:[hasUnreadMessages&&/*#__PURE__*/_jsxs(MarkAllReadButton,{$variant:\"outline\",$size:\"small\",onClick:markAllAsRead,children:[/*#__PURE__*/_jsx(FaCheckDouble,{}),\" Mark All as Read\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"messages-list\",children:messages.map(message=>{var _message$requestDetai;return/*#__PURE__*/_jsxs(\"div\",{className:`message-item ${!message.read?'unread':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"message-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:message.sender.picture||'/default-avatar.png',alt:message.sender.name,className:\"sender-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:message.sender.name}),/*#__PURE__*/_jsx(\"span\",{className:\"message-date\",children:formatDate(message.createdAt)})]}),/*#__PURE__*/_jsxs(ReadIndicator,{read:message.read,children:[message.read?/*#__PURE__*/_jsx(FaEnvelopeOpen,{}):/*#__PURE__*/_jsx(FaEnvelope,{}),message.read?'Read':'Unread']}),message.type==='AUDIO_REQUEST'&&/*#__PURE__*/_jsx(\"span\",{className:\"message-type\",children:\"Audio Request\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"message-content\",children:message.content}),message.type==='AUDIO_REQUEST'&&message.requestDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"request-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: $\",message.requestDetails.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",message.requestDetails.status]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-actions\",children:[!message.read&&/*#__PURE__*/_jsx(ActionButton,{$variant:\"primary\",$size:\"small\",onClick:()=>markAsRead(message._id),children:\"Mark as Read\"}),message.type==='AUDIO_REQUEST'&&((_message$requestDetai=message.requestDetails)===null||_message$requestDetai===void 0?void 0:_message$requestDetai.status)==='PENDING'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ActionButton,{$variant:\"primary\",$size:\"small\",onClick:e=>{e.stopPropagation();handleAcceptRequest(message._id);},children:\"Accept\"}),/*#__PURE__*/_jsx(ActionButton,{$variant:\"outline\",$size:\"small\",onClick:e=>{e.stopPropagation();handleDeclineRequest(message._id);},children:\"Decline\"})]}),/*#__PURE__*/_jsx(ActionButton,{$variant:\"danger\",$size:\"small\",onClick:e=>{e.stopPropagation();deleteMessage(message._id);},children:\"Delete\"})]})]},message._id);})})]})]});};export default Inbox;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","styled","Button","Card","api","FaEnvelope","FaEnvelopeOpen","FaCheckDouble","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EmptyState","div","props","theme","colors","textLight","ActionButton","ReadIndicator","read","primary","MarkAllReadButton","Inbox","messages","setMessages","loading","setLoading","error","setError","navigate","fetchMessages","response","get","data","err","console","message","request","markAsRead","messageId","patch","map","msg","_id","markAllAsRead","post","deleteMessage","delete","filter","handleAcceptRequest","log","requestDetails","status","handleDeclineRequest","formatDate","dateString","options","year","month","day","hour","minute","Date","toLocaleDateString","undefined","navigateToCompose","navigateToSent","hasUnreadMessages","some","className","children","$variant","onClick","style","marginRight","length","Body","$size","_message$requestDetai","src","sender","picture","alt","name","createdAt","type","content","price","e","stopPropagation"],"sources":["/Users/davidmcguire/Desktop/Master/Cursor/AudioZoom/client/src/pages/Inbox.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport Button from '../components/Button';\nimport Card from '../components/Card';\nimport api from '../utils/api';\nimport { FaEnvelope, FaEnvelopeOpen, FaCheckDouble } from 'react-icons/fa';\nimport './Inbox.css';\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 3rem 1rem;\n  color: ${props => props.theme.colors.textLight};\n`;\n\nconst ActionButton = styled(Button)`\n  margin-left: 0.5rem;\n`;\n\nconst ReadIndicator = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: ${props => props.read ? props.theme.colors.textLight : props.theme.colors.primary};\n  font-size: 0.9rem;\n  font-weight: ${props => props.read ? 'normal' : 'bold'};\n`;\n\nconst MarkAllReadButton = styled(Button)`\n  margin-left: auto;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nconst Inbox = () => {\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchMessages();\n  }, []);\n\n  const fetchMessages = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/api/messages');\n      setMessages(response.data);\n      setError(null);\n    } catch (err) {\n      console.error('Error fetching messages:', err);\n      if (err.response) {\n        setError(err.response.data.message || 'Failed to load messages');\n      } else if (err.request) {\n        setError('Network error - could not connect to server');\n      } else {\n        setError(err.message || 'Failed to load messages');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const markAsRead = async (messageId) => {\n    try {\n      await api.patch(`/api/messages/${messageId}/read`, {});\n      \n      // Update the message in the local state\n      setMessages(messages.map(msg => \n        msg._id === messageId ? { ...msg, read: true } : msg\n      ));\n    } catch (err) {\n      console.error('Error marking message as read:', err);\n      // Show error toast or notification here if needed\n    }\n  };\n\n  const markAllAsRead = async () => {\n    try {\n      await api.post('/api/messages/mark-all-read');\n      \n      // Update all messages in the local state\n      setMessages(messages.map(msg => ({ ...msg, read: true })));\n    } catch (err) {\n      console.error('Error marking all messages as read:', err);\n      // Show error toast or notification here if needed\n    }\n  };\n\n  const deleteMessage = async (messageId) => {\n    try {\n      await api.delete(`/api/messages/${messageId}`);\n      \n      // Remove the message from the local state\n      setMessages(messages.filter(msg => msg._id !== messageId));\n    } catch (err) {\n      console.error('Error deleting message:', err);\n      // Show error toast or notification here if needed\n    }\n  };\n\n  const handleAcceptRequest = async (messageId) => {\n    try {\n      // Implement request acceptance logic here\n      console.log('Accepting request:', messageId);\n      \n      // Update the message status in the local state\n      setMessages(messages.map(msg => \n        msg._id === messageId ? { \n          ...msg, \n          requestDetails: { \n            ...msg.requestDetails, \n            status: 'ACCEPTED' \n          } \n        } : msg\n      ));\n    } catch (err) {\n      console.error('Error accepting request:', err);\n    }\n  };\n\n  const handleDeclineRequest = async (messageId) => {\n    try {\n      // Implement request decline logic here\n      console.log('Declining request:', messageId);\n      \n      // Update the message status in the local state\n      setMessages(messages.map(msg => \n        msg._id === messageId ? { \n          ...msg, \n          requestDetails: { \n            ...msg.requestDetails, \n            status: 'DECLINED' \n          } \n        } : msg\n      ));\n    } catch (err) {\n      console.error('Error declining request:', err);\n    }\n  };\n\n  const formatDate = (dateString) => {\n    const options = { year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n\n  const navigateToCompose = () => {\n    navigate('/compose');\n  };\n\n  const navigateToSent = () => {\n    navigate('/sent');\n  };\n\n  // Check if there are any unread messages\n  const hasUnreadMessages = messages.some(msg => !msg.read);\n\n  if (loading) {\n    return (\n      <div className=\"inbox-container\">\n        <h1>Inbox</h1>\n        <div className=\"loading\">Loading messages...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"inbox-container\">\n      <div className=\"inbox-header\">\n        <h1>Inbox</h1>\n        <div className=\"inbox-actions\">\n          <Button $variant=\"outline\" onClick={navigateToSent} style={{ marginRight: '10px' }}>\n            Sent Messages\n          </Button>\n          <Button $variant=\"primary\" onClick={navigateToCompose}>\n            New Message\n          </Button>\n        </div>\n      </div>\n      \n      {error && <div className=\"error-message\">{error}</div>}\n      \n      {!error && messages.length === 0 ? (\n        <Card>\n          <Card.Body>\n            <EmptyState>\n              <p>Your inbox is empty</p>\n              <Button $variant=\"primary\" onClick={navigateToCompose}>\n                Send a Message\n              </Button>\n            </EmptyState>\n          </Card.Body>\n        </Card>\n      ) : (\n        <>\n          {hasUnreadMessages && (\n            <MarkAllReadButton \n              $variant=\"outline\" \n              $size=\"small\" \n              onClick={markAllAsRead}\n            >\n              <FaCheckDouble /> Mark All as Read\n            </MarkAllReadButton>\n          )}\n          <div className=\"messages-list\">\n            {messages.map((message) => (\n              <div \n                key={message._id} \n                className={`message-item ${!message.read ? 'unread' : ''}`}\n              >\n                <div className=\"message-header\">\n                  <img \n                    src={message.sender.picture || '/default-avatar.png'} \n                    alt={message.sender.name} \n                    className=\"sender-avatar\"\n                  />\n                  <div className=\"message-info\">\n                    <h3>{message.sender.name}</h3>\n                    <span className=\"message-date\">{formatDate(message.createdAt)}</span>\n                  </div>\n                  <ReadIndicator read={message.read}>\n                    {message.read ? <FaEnvelopeOpen /> : <FaEnvelope />}\n                    {message.read ? 'Read' : 'Unread'}\n                  </ReadIndicator>\n                  {message.type === 'AUDIO_REQUEST' && (\n                    <span className=\"message-type\">Audio Request</span>\n                  )}\n                </div>\n                <p className=\"message-content\">{message.content}</p>\n                {message.type === 'AUDIO_REQUEST' && message.requestDetails && (\n                  <div className=\"request-details\">\n                    <p>Price: ${message.requestDetails.price}</p>\n                    <p>Status: {message.requestDetails.status}</p>\n                  </div>\n                )}\n                <div className=\"message-actions\">\n                  {!message.read && (\n                    <ActionButton \n                      $variant=\"primary\" \n                      $size=\"small\"\n                      onClick={() => markAsRead(message._id)}\n                    >\n                      Mark as Read\n                    </ActionButton>\n                  )}\n                  {message.type === 'AUDIO_REQUEST' && message.requestDetails?.status === 'PENDING' && (\n                    <>\n                      <ActionButton \n                        $variant=\"primary\" \n                        $size=\"small\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleAcceptRequest(message._id);\n                        }}\n                      >\n                        Accept\n                      </ActionButton>\n                      <ActionButton \n                        $variant=\"outline\" \n                        $size=\"small\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleDeclineRequest(message._id);\n                        }}\n                      >\n                        Decline\n                      </ActionButton>\n                    </>\n                  )}\n                  <ActionButton \n                    $variant=\"danger\" \n                    $size=\"small\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      deleteMessage(message._id);\n                    }}\n                  >\n                    Delete\n                  </ActionButton>\n                </div>\n              </div>\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Inbox; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}